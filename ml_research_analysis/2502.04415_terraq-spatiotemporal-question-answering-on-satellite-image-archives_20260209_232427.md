---
ver: rpa2
title: 'TerraQ: Spatiotemporal Question-Answering on Satellite Image Archives'
arxiv_id: '2502.04415'
source_url: https://arxiv.org/abs/2502.04415
tags:
- knowledge
- terraq
- query
- image
- available
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: TerraQ is a spatiotemporal question-answering engine for satellite
  image archives that translates natural language queries into SPARQL queries over
  a specialized knowledge graph containing Sentinel-1/Sentinel-2 metadata and geospatial
  information. The system uses a pipeline of components including dependency parsing,
  entity recognition, concept identification, spatial relation mapping, and query
  generation without relying on predefined templates.
---

# TerraQ: Spatiotemporal Question-Answering on Satellite Image Archives

## Quick Facts
- **arXiv ID:** 2502.04415
- **Source URL:** https://arxiv.org/abs/2502.04415
- **Reference count:** 25
- **Primary result:** 44.36% accuracy on GeoQuestions1089 benchmark, outperforming previous systems by 4 percentage points (10% relative improvement)

## Executive Summary
TerraQ is a spatiotemporal question-answering engine designed to process natural language queries over satellite image archives. The system translates user queries into SPARQL queries over a specialized knowledge graph containing Sentinel-1/Sentinel-2 metadata and geospatial information. Unlike template-based approaches, TerraQ employs a pipeline of components including dependency parsing, entity recognition, concept identification, spatial relation mapping, and query generation to handle diverse query patterns without predefined templates.

The system achieves state-of-the-art performance on the GeoQuestions1089 benchmark while maintaining computational efficiency through heuristic-based approaches and materialization of geospatial relations. This represents a significant advancement in enabling intuitive access to satellite imagery archives through natural language interfaces, though performance indicates substantial room for improvement in handling complex spatiotemporal queries.

## Method Summary
TerraQ processes natural language queries through a pipeline architecture that begins with dependency parsing to extract syntactic structure, followed by entity recognition to identify geographic locations, dates, and satellite-related terms. The system then performs concept identification to map query elements to knowledge graph concepts, applies spatial relation mapping to interpret geospatial relationships, and generates SPARQL queries through a template-free approach. The knowledge graph contains Sentinel-1 and Sentinel-2 metadata along with geospatial information, and the system uses materialized geospatial relations to improve query efficiency. The architecture avoids predefined templates by employing heuristic-based query generation that adapts to various query patterns.

## Key Results
- Achieves 44.36% accuracy on GeoQuestions1089 benchmark dataset
- Outperforms previous state-of-the-art systems by 4 percentage points (10% relative improvement)
- Maintains computational efficiency through heuristic-based approaches and materialization of geospatial relations

## Why This Works (Mechanism)
The system's template-free approach enables flexible handling of diverse query patterns without being constrained by predefined structures. By leveraging dependency parsing, the system can extract meaningful syntactic relationships from natural language queries. The integration of entity recognition with geospatial knowledge graphs allows accurate mapping of geographic and temporal references to knowledge base entities. Spatial relation mapping translates natural language spatial descriptions into formal geospatial operations, while the SPARQL generation component converts processed query elements into executable queries over the satellite imagery knowledge graph.

## Foundational Learning
- **Dependency Parsing:** Analyzes grammatical structure to identify relationships between words; needed to extract meaningful query components from natural language input; quick check: verify parse tree captures subject-verb-object relationships correctly
- **Entity Recognition:** Identifies and classifies named entities (locations, dates, satellite names) in text; needed to map natural language references to knowledge graph entities; quick check: test recognition accuracy on diverse geographic and temporal expressions
- **Spatial Relation Mapping:** Translates natural language spatial descriptions into formal geospatial operations; needed to interpret queries like "near," "within," "over"; quick check: validate mapping accuracy across different spatial relation types
- **SPARQL Query Generation:** Converts processed query elements into executable queries; needed to interface with knowledge graph backend; quick check: verify generated queries return expected results for simple test cases
- **Knowledge Graph Materialization:** Pre-computes and stores geospatial relations for efficiency; needed to reduce query processing time; quick check: measure query response time improvement with materialization
- **Heuristic-Based Query Construction:** Uses rules and patterns to generate queries without templates; needed to handle diverse query patterns flexibly; quick check: test system's ability to process novel query types

## Architecture Onboarding

**Component Map:** Natural Language Query -> Dependency Parser -> Entity Recognizer -> Concept Identifier -> Spatial Relation Mapper -> SPARQL Generator -> Knowledge Graph

**Critical Path:** The core processing pipeline follows: Dependency Parsing → Entity Recognition → Concept Identification → Spatial Relation Mapping → Query Generation. Each component must successfully process its input for the system to generate valid SPARQL queries.

**Design Tradeoffs:** The system trades template flexibility for heuristic-based query generation, enabling broader query coverage but potentially introducing ambiguity in complex cases. Materialization of geospatial relations improves efficiency but increases storage requirements and may limit scalability. The absence of predefined templates allows handling diverse queries but may struggle with highly complex spatiotemporal relationships.

**Failure Signatures:** Common failure modes include incorrect dependency parsing leading to wrong query structure, entity recognition failures for ambiguous geographic references, spatial relation mapping errors for complex geospatial relationships, and SPARQL generation failures when query components cannot be properly mapped to knowledge graph constructs.

**First Experiments:**
1. Test dependency parsing accuracy on a diverse set of geospatial queries to identify parsing failures
2. Evaluate entity recognition performance on ambiguous geographic references and temporal expressions
3. Validate spatial relation mapping by testing queries with different spatial relationship types

## Open Questions the Paper Calls Out
None specified in the provided materials.

## Limitations
- 44.36% accuracy indicates system struggles with approximately 56% of queries, particularly complex spatiotemporal relationships and temporal reasoning
- Materialization approach may limit scalability to larger spatial extents and higher temporal resolutions
- Heuristic-based approach introduces uncertainty about generalization to novel query patterns not encountered during development
- Performance characterization across different query types, temporal ranges, and geographic regions is incomplete

## Confidence
- **Accuracy claims:** Medium - depends on benchmark quality and representativeness
- **Relative improvement claims:** Medium - 10% improvement claim relies on benchmark validity
- **Computational efficiency claims:** Medium - lacks detailed analysis across varying dataset sizes
- **Template-free approach effectiveness:** Medium - generalization to novel queries not fully characterized

## Next Checks
1. Conduct ablation studies to quantify the contribution of each pipeline component to overall accuracy, identifying which components most limit performance
2. Test the system on out-of-distribution queries and real-world user requests to evaluate generalization beyond the GeoQuestions1089 benchmark, particularly focusing on temporal reasoning capabilities and handling of ambiguous geospatial references
3. Perform scalability analysis by evaluating query processing times and accuracy degradation when increasing temporal range, spatial extent, and query complexity