---
ver: rpa2
title: Interactive dense pixel visualizations for time series and model attribution
  explanations
arxiv_id: '2408.15073'
source_url: https://arxiv.org/abs/2408.15073
tags:
- data
- time
- series
- clustering
- visualization
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces DAVOTS, a dense-pixel visualization tool
  for exploring raw time series data, neural network activations, and model attributions
  in a single interactive display. To reveal patterns in large time series datasets,
  the method applies hierarchical clustering using Euclidean, normalized Euclidean,
  and Pearson correlation distances, then visualizes clustered samples as rows of
  colored pixels representing time series values, activations, and attributions.
---

# Interactive dense pixel visualizations for time series and model attribution explanations

## Quick Facts
- **arXiv ID:** 2408.15073
- **Source URL:** https://arxiv.org/abs/2408.15073
- **Reference count:** 9
- **Key outcome:** Dense-pixel visualization tool for exploring raw time series, neural network activations, and model attributions with hierarchical clustering and multiple distance metrics.

## Executive Summary
This paper introduces DAVOTS, an interactive visual analytics tool that enables simultaneous exploration of raw time series data, neural network activations, and model attributions through dense-pixel visualization. The system applies hierarchical clustering with multiple distance metrics to group similar samples, revealing patterns that might be hidden in non-intelligible time series data. By visualizing these three data types in a single display with tailored color scales, users can discover relationships between raw patterns, model behavior, and attributions that inform model explanations.

## Method Summary
The approach uses hierarchical agglomerative clustering with three distance metrics (Euclidean, normalized Euclidean, and Pearson correlation) to order samples based on similarity in the chosen data domain (raw time series, activations, or attributions). Each sample is represented as a row of colored pixels in a dense-pixel display, with separate columns for raw time series, activations, attributions, histograms, and predictions. The visualization scales to device resolution and includes interactive controls for sample selection and parameter adjustment. Clustering is performed on the FordA dataset using a trained CNN, with attributions extracted using methods like Integrated Gradients or SHAP.

## Key Results
- Clustering on attributions reveals relevant subsequences in raw data while clustering on raw time series improves pattern visibility in the raw domain but may weaken attribution patterns.
- Different distance metrics expose distinct, meaningful groupings that are not redundant, enabling exploration of different notions of similarity.
- The dense-pixel visualization successfully compresses high-dimensional data into a single row per sample, allowing simultaneous inspection of raw data, activations, and attributions.

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Clustering time series using hierarchical methods with multiple distance metrics reveals interpretable patterns in raw data, activations, and attributions simultaneously.
- Mechanism: Hierarchical clustering groups samples based on similarity in the chosen data domain, ordering them so that similar patterns appear together in the dense-pixel display.
- Core assumption: The similarity in one data domain correlates with meaningful patterns in other domains.
- Evidence anchors: [abstract] "To further support users in exploring large datasets, we apply clustering approaches to the visualized data domains to highlight groups and present ordering strategies..."
- Break condition: If the correlation between domains is weak or spurious, clustering in one domain will not produce meaningful patterns in others, reducing interpretability.

### Mechanism 2
- Claim: Dense-pixel visualization compresses high-dimensional time series, activations, and attributions into a single row per sample, enabling simultaneous visual inspection of all data types.
- Mechanism: Each sample is mapped to a row of colored pixels, with separate columns for raw time series, activations, attributions, histograms, and predictions.
- Core assumption: Human visual pattern recognition can extract meaningful structure from pixel-level representations when color encoding is appropriate.
- Evidence anchors: [abstract] "We propose DAVOTS, an interactive visual analytics approach to explore raw time series data, activations of neural networks, and attributions in a dense-pixel visualization..."
- Break condition: If color encoding is ambiguous or if pixel density is too high, patterns become indistinguishable, undermining the visualization's utility.

### Mechanism 3
- Claim: Multiple distance metrics (Euclidean, normalized Euclidean, Pearson correlation) in clustering allow exploration of different notions of similarity, revealing complementary patterns.
- Mechanism: Each distance metric captures a different aspect of similarity—absolute magnitude, shape normalization, or linear correlation—so clustering with each highlights different groupings and structures.
- Core assumption: Different distance metrics expose distinct, meaningful groupings that are not redundant.
- Evidence anchors: [section] "We implement three different distance functions based on related work and surveys..."
- Break condition: If the distance metrics produce highly correlated clustering results, the benefit of exploring multiple metrics diminishes.

## Foundational Learning

- Concept: Hierarchical clustering and linkage methods (Ward, complete, single, average).
  - Why needed here: The system relies on hierarchical clustering to order samples for visualization; understanding linkage criteria is essential to interpret results.
  - Quick check question: What is the key difference between Ward's method and complete linkage in hierarchical clustering?

- Concept: Distance metrics for time series (Euclidean, normalized Euclidean, Pearson correlation).
  - Why needed here: Different metrics capture different notions of similarity; selecting the right one affects pattern visibility.
  - Quick check question: When would Pearson correlation be more informative than Euclidean distance for clustering time series?

- Concept: Dense-pixel visualization and color encoding for different data types.
  - Why needed here: The visualization compresses data into pixels; proper color scales are critical for interpretability.
  - Quick check question: Why does the system use diverging color scales for raw time series and attributions but sequential scales for activations?

## Architecture Onboarding

- Component map:
  - Data preprocessing -> Clustering engine -> Visualization renderer -> Interaction layer -> Backend model integration

- Critical path:
  1. Load dataset and trained model.
  2. Extract raw time series, activations, attributions for each sample.
  3. Apply selected clustering method and distance metric.
  4. Render dense-pixel visualization ordered by clustering.
  5. Allow user interaction to change clustering base or method.

- Design tradeoffs:
  - Clustering vs. raw ordering: Clustering reveals patterns but may obscure temporal structure.
  - Pixel density vs. readability: More samples improve coverage but reduce detail.
  - Color scale choice: Tailored scales improve clarity but require careful design.

- Failure signatures:
  - No visible patterns after clustering: Possible metric mismatch or weak inter-domain correlation.
  - Overlapping or indistinguishable colors: Color scale or encoding issue.
  - Slow rendering with large datasets: Clustering or rendering inefficiency.

- First 3 experiments:
  1. Visualize FordA test set using raw time series clustering with Ward linkage and normalized Euclidean distance; check for visible groupings.
  2. Repeat with attributions as clustering base; compare pattern visibility between raw and attribution domains.
  3. Try Pearson correlation distance on activations; assess if different patterns emerge compared to Euclidean-based clustering.

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How do alternative clustering methods (e.g., DBSCAN or partition-based clustering) compare to hierarchical clustering in revealing patterns in time series, activations, and attributions when applied to DAVOTS?
- Basis in paper: [explicit] The authors state: "Future work – To enhance the approach, additional interactivity can help further analysis of the model and its predictions. ... We further want to extend the hierarchical clustering approach with density-based and partition-based clustering and measure the results based on Guo and Gahegan [GG06] or a more focused measure."
- Why unresolved: The paper only explores hierarchical clustering methods and does not test alternative clustering approaches, leaving their effectiveness unexplored.
- What evidence would resolve it: Empirical comparison of pattern visibility and interpretability metrics between hierarchical, DBSCAN, and partition-based clustering on the same datasets and models.

### Open Question 2
- Question: Does clustering on activations lead to better interpretability of model decisions compared to clustering on raw time series or attributions?
- Basis in paper: [inferred] The authors note that clustering on attributions reveals patterns in raw data, but clustering on raw time series improves pattern visibility in the raw domain yet may weaken attribution patterns. Clustering on activations shows noise in raw time series but reveals some patterns in attributions.
- Why unresolved: The paper presents preliminary findings but does not systematically evaluate which clustering base best supports interpretability of model decisions.
- What evidence would resolve it: Controlled user studies or quantitative metrics assessing how well each clustering base helps users understand model decisions and identify relevant subsequences.

### Open Question 3
- Question: Can interactive features such as drag-and-drop reordering or aggregation of similar rows significantly improve the discovery of cross-patterns between different data types in DAVOTS?
- Basis in paper: [explicit] The authors mention: "Future work – To enhance the approach, additional interactivity can help further analysis... A drag and drop of rows to reorder the samples facilitates to find of groups and group patterns by users. Switching the data types can also help to find cross patterns between different data attributes."
- Why unresolved: The current version of DAVOTS lacks these interactive features, so their impact on pattern discovery is untested.
- What evidence would resolve it: User studies comparing pattern discovery effectiveness with and without interactive reordering and aggregation features, measuring time to insight and number of cross-patterns identified.

## Limitations
- The specific neural network architecture and attribution method used are not detailed, requiring assumptions in reproduction.
- The correlation strength between similarity in one data domain and meaningful patterns in others is not quantified, leaving the reliability of cross-domain insights uncertain.
- Only one dataset (FordA) is used, limiting generalizability across diverse time series domains.

## Confidence
- **High Confidence**: The core mechanism of dense-pixel visualization for simultaneous multi-domain exploration and the use of hierarchical clustering with configurable distance metrics.
- **Medium Confidence**: The effectiveness of different distance metrics in revealing complementary patterns, as this depends on data characteristics not fully explored here.
- **Low Confidence**: The robustness of clustering-based pattern discovery across diverse datasets, since only one dataset is used.

## Next Checks
1. Quantify the correlation between clustering similarity in attributions and meaningful groupings in raw time series across multiple datasets.
2. Test the robustness of pattern visibility when varying the neural network architecture and attribution method.
3. Evaluate the perceptual clarity of color encodings with user studies to ensure patterns are distinguishable at different pixel densities.