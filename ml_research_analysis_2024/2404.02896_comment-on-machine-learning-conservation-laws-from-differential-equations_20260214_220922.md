---
ver: rpa2
title: Comment on "Machine learning conservation laws from differential equations"
arxiv_id: '2404.02896'
source_url: https://arxiv.org/abs/2404.02896
tags:
- they
- errors
- constant
- should
- also
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This comment identifies seven critical errors in Liu, Madhavan,
  and Tegmark's 2022 paper on machine learning conservation laws from differential
  equations, specifically in their analysis of a damped 1D harmonic oscillator. The
  errors include incorrect solutions that don't satisfy the equation of motion, a
  factor of 2 error in the damping coefficient, omission of the pseudo-frequency,
  improper application of their method to underdamped, critically damped, and overdamped
  cases, and failure to properly handle the multi-valued nature of the complex logarithm.
---

# Comment on "Machine learning conservation laws from differential equations"

## Quick Facts
- arXiv ID: 2404.02896
- Source URL: https://arxiv.org/abs/2404.02896
- Reference count: 0
- Primary result: Identifies seven critical errors in Liu et al.'s 2022 paper on machine learning conservation laws from differential equations for a damped harmonic oscillator

## Executive Summary
This comment identifies seven critical errors in Liu, Madhavan, and Tegmark's 2022 paper on machine learning conservation laws from differential equations. The errors include incorrect solutions that don't satisfy the equation of motion, a factor of 2 error in the damping coefficient, omission of the pseudo-frequency, improper application to underdamped/critically damped/overdamped cases, and failure to handle the multi-valued nature of the complex logarithm. Most importantly, their purported constant H1 is shown to vary significantly with time when tested with correct parameters, demonstrating the method is fundamentally flawed.

The analysis demonstrates that even after correcting individual errors, the approach fails because the phase angle β prevents proper formation of z and z̄. The comment provides specific counterexamples showing H1 varies significantly with time, contradicting the authors' claim of having derived a conservation law. This reveals fundamental problems with the method's assumptions and implementation.

## Method Summary
The comment employs analytical verification to test the claims made in Liu et al.'s paper. The approach involves substituting the corrected solutions for the damped harmonic oscillator into the purported conservation law H1, then computing H1 at multiple time points to verify whether it remains constant. The corrected solutions use proper physics (x(t) = Ae^(-γt)cos(ωt+φ), p(t) = dx/dt with ω = sqrt(ω0²-γ²)) and appropriate parameters (ω0 = 1, γ = 0.1, x(0) = -3, p(0) = 0). The method then plots the trajectory (x(t), p(t)) and corresponding H1 values to demonstrate that H1 varies significantly with time, contradicting the claim that it represents a conservation law.

## Key Results
- H1 is not actually constant over time when tested with correct parameters, contradicting the paper's central claim
- The purported solutions in Liu et al. don't satisfy the equation of motion for the damped oscillator
- A factor of 2 error exists in the damping coefficient used in the original analysis
- The pseudo-frequency is omitted from the analysis, leading to incorrect solutions
- The method fails for underdamped, critically damped, and overdamped cases
- The multi-valued nature of the complex logarithm is not properly handled
- The approach is fundamentally flawed and cannot be salvaged even after correcting individual errors

## Why This Works (Mechanism)
The comment works by applying rigorous mathematical verification to test whether the proposed conservation law actually produces a constant value. By using the correct physical solutions for the damped harmonic oscillator and computing the purported constant H1 over time, the method directly tests the core claim. The approach leverages the fact that true conservation laws must produce time-invariant quantities when applied to systems with known dynamics.

## Foundational Learning

**Complex Logarithms and Riemann Sheets**
- Why needed: Essential for understanding how multi-valued functions affect conservation law derivations
- Quick check: Verify proper handling of branch cuts and Riemann sheets in complex logarithm calculations

**Damped Harmonic Oscillator Dynamics**
- Why needed: Fundamental for identifying errors in the proposed solutions and understanding system behavior
- Quick check: Confirm that proposed solutions satisfy the original differential equation

**Conservation Laws in Physics**
- Why needed: Critical for understanding what constitutes a valid conservation law and why H1 fails this test
- Quick check: Verify that true conservation laws produce time-invariant quantities

## Architecture Onboarding

**Component Map**
Equation of Motion -> Proposed Solutions -> Conservation Law (H1) -> Time Verification

**Critical Path**
The verification process flows from the corrected equation of motion through the proposed solutions to the computation of H1 over time. The critical path is: x(t), p(t) → H1(t) → H1(t) vs time plot. Any error in the solutions propagates to H1 and affects the final verification.

**Design Tradeoffs**
The comment prioritizes mathematical rigor over computational complexity, using analytical solutions rather than numerical approximations. This ensures accuracy but requires careful handling of complex mathematical functions like the multi-valued logarithm.

**Failure Signatures**
- H1 showing significant variation with time indicates the purported conservation law is invalid
- Solutions that don't satisfy the equation of motion reveal fundamental errors in the analysis
- Improper handling of complex logarithms may manifest as discontinuities or unexpected features in plots

**First Experiments**
1. Verify that the corrected solutions x(t) and p(t) satisfy the original equation of motion by direct substitution
2. Compute H1 using both the original and corrected solutions to identify discrepancies
3. Test H1 with different parameter values (varying γ, different initial conditions) to determine if the failure is consistent

## Open Questions the Paper Calls Out

**Open Question 1**
Can Liu, Madhavan, and Tegmark's method be salvaged or corrected to properly derive conservation laws from differential equations, given the identified errors? The comment shows the method fundamentally fails due to the phase angle β that appears when correctly solving the damped oscillator, which prevents the authors' approach from working even after individual corrections. Evidence that would resolve this would be a demonstration that an alternative formulation can successfully derive valid conservation laws without the identified flaws.

**Open Question 2**
What is the correct way to handle the multi-valued nature of the complex logarithm when deriving conservation laws from differential equations? The comment identifies error #6 where the authors made no mention of the Riemann sheet treatment required for log(eiθ) when tan θ = p/x. A rigorous mathematical framework showing how to properly handle the multi-valued logarithm in this context, with explicit examples, would resolve this question.

**Open Question 3**
Why does the purported constant H1 vary significantly with time when tested with correct parameters, and what does this reveal about the fundamental assumptions in Liu, Madhavan, and Tegmark's approach? While the comment demonstrates the failure, it does not explain the deeper mathematical reason why their method cannot produce true constants of motion for damped systems. A theoretical analysis explaining why the method cannot produce time-invariant quantities for damped systems would resolve this question.

## Limitations

- The analysis critically depends on the correctness of the corrected solutions provided in the comment
- The handling of the multi-valued complex logarithm is not fully specified, which could affect H1 computation
- The verification is based on one specific case (damped harmonic oscillator) and may not generalize to all differential equations
- The comment does not provide a complete mathematical framework for properly handling complex logarithms in conservation law derivations

## Confidence

**High confidence**: Identification of specific mathematical errors (factor of 2 error in damping coefficient, incorrect solutions that don't satisfy the equation of motion)

**Medium confidence**: Claim that H1 is not constant over time when using correct parameters, as this depends on the accuracy of the proposed correct solutions

**Medium confidence**: Assertion that the method is fundamentally flawed and cannot be salvaged, as this is based on analysis of one specific case

## Next Checks

1. Verify the correctness of the proposed solutions by substituting x(t) and p(t) back into the original equation of motion to confirm they satisfy the differential equation

2. Implement the H1 calculation using the exact formula from the original paper and compare with the corrected version to identify any discrepancies in the mathematical formulation

3. Test the method with different parameter values (varying γ, different initial conditions) to determine if the failure of H1 to be constant is consistent across different scenarios or specific to the chosen parameters