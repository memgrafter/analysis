---
ver: rpa2
title: Domain-Independent Dynamic Programming
arxiv_id: '2401.13883'
source_url: https://arxiv.org/abs/2401.13883
tags:
- state
- solution
- cost
- dypdl
- problem
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper proposes domain-independent dynamic programming (DIDP),
  a novel model-based paradigm for combinatorial optimization based on dynamic programming
  (DP). The authors introduce Dynamic Programming Description Language (DyPDL), a
  formalism to define DP models based on a state transition system, and develop seven
  DIDP solvers using heuristic search algorithms.
---

# Domain-Independent Dynamic Programming

## Quick Facts
- arXiv ID: 2401.13883
- Source URL: https://arxiv.org/abs/2401.13883
- Authors: Ryo Kuroiwa; J. Christopher Beck
- Reference count: 40
- DIDP outperforms MIP and CP in seven problem classes with average 0.1151 optimality gap for TSPTW

## Executive Summary
This paper introduces Domain-Independent Dynamic Programming (DIDP), a novel model-based paradigm for combinatorial optimization that combines dynamic programming with heuristic search. The authors present Dynamic Programming Description Language (DyPDL), a formalism for declaratively defining DP models with states, transitions, and redundant information. Through seven heuristic search solvers implemented in didp-rs, DIDP achieves superior or competitive performance to mixed-integer programming and constraint programming on nine problem classes, with significant advantages in problems exhibiting sequential dependencies.

## Method Summary
DIDP introduces DyPDL as a modeling language that extends traditional DP formulations with declarative support for redundant information like dominance relations, dual bound functions, and forced transitions. The approach implements seven heuristic search algorithms (A*, DFBnB, CBFS, ACPS, APPS, DBDFS, and CABS) that solve DyPDL models under theoretical conditions ensuring completeness and optimality. The solvers explore state transition graphs defined by DyPDL, using admissible heuristics for both search guidance and state pruning. The implementation includes a practical YAML-based syntax (YAML-DyPDL) for easier model specification and a command-line interface for solver execution.

## Key Results
- DIDP solvers outperform MIP in nine problem classes and CP in nine problem classes
- DIDP achieves average 0.1151 optimality gap for TSPTW versus 0.2200 for MIP and 0.7175 for CP
- DIDP outperforms both MIP and CP in seven problem classes including TSPTW, OPTW, m-PDTSP, and SALBP-1
- Performance advantages are most pronounced in problem classes with sequential dependencies

## Why This Works (Mechanism)

### Mechanism 1
- Claim: DyPDL allows users to declaratively include redundant information that improves solver performance through better pruning.
- Mechanism: Redundant information in DyPDL enables better pruning during state space search, reducing the search space and improving efficiency.
- Core assumption: Including implied information beyond the minimal problem definition can be exploited by heuristic search solvers to prune states and guide search more effectively.
- Evidence anchors:
  - [abstract]: "DyPDL allows (but does not require) a user to explicitly include information that is implied by the problem definition and can be potentially exploited by a solver."
  - [section 3.3]: Defines state dominance, dual bound functions, and forced transitions as types of redundant information that can be declaratively modeled in DyPDL.
- Break Condition: If the solver fails to exploit the redundant information, or if the information leads to incorrect pruning, performance gains will not materialize.

### Mechanism 2
- Claim: Heuristic search algorithms effectively solve DyPDL models under certain theoretical conditions.
- Mechanism: Heuristic search algorithms explore the state transition graph defined by DyPDL, using admissible heuristics for pruning and search guidance to find optimal solutions.
- Core assumption: The DyPDL model satisfies properties like finiteness, acyclicity, and isotonicity, which guarantee termination and optimality of the heuristic search algorithms.
- Evidence anchors:
  - [section 5]: Introduces heuristic search algorithms and formally proves their completeness and optimality for monoidal DyPDL models under reasonable theoretical conditions.
  - [section 5.4]: Describes specific instantiations of heuristic search algorithms as solvers for DyPDL.
- Break Condition: If the model violates the theoretical conditions (e.g., not finite or acyclic), the solvers may not terminate or find optimal solutions.

### Mechanism 3
- Claim: DIDP performance is problem-class dependent, with superior results in problems with sequential dependencies.
- Mechanism: State-based representations in DyPDL and DIDP are better suited for problems with sequential dependencies or where state-space search can efficiently exploit the problem structure.
- Core assumption: Problem characteristics influence the effectiveness of state-space search solvers compared to constraint-based solvers.
- Evidence anchors:
  - [section 7.4]: Discusses performance across problem classes and suggests sequential dependencies contribute to superior DIDP performance.
  - [section 7.3.1]: Presents experimental results showing DIDP outperforms MIP and CP in seven problem classes.
- Break Condition: If the problem class does not favor state-space search, or if DyPDL doesn't effectively capture the problem structure, DIDP solvers may not outperform MIP and CP.

## Foundational Learning

- Concept: Dynamic Programming (DP)
  - Why needed here: DyPDL and DIDP are based on dynamic programming, so understanding DP is fundamental to understanding the approach.
  - Quick check question: What is the Bellman equation, and how is it used in dynamic programming to solve optimization problems?

- Concept: State Space Search
  - Why needed here: DIDP solvers use state space search algorithms to explore the state transition graph defined by DyPDL models.
  - Quick check question: What are the key components of a state space search algorithm (e.g., open list, closed list, heuristic function), and how do they work together to find solutions?

- Concept: Heuristic Functions
  - Why needed here: Heuristic functions are used in DIDP solvers for both search guidance and state pruning, and their admissibility and informativeness impact solver performance.
  - Quick check question: What is the difference between an admissible heuristic and an inadmissible heuristic, and how does admissibility relate to optimality guarantees in search algorithms?

## Architecture Onboarding

- Component map:
  - DyPDL -> didp-rs (dypdl, dypdl-heuristic-search, didp-yaml) -> Heuristic Search Solvers (CAASDy, DFBnB, CBFS, ACPS, APPS, DBDFS, CABS)

- Critical path:
  1. Define a combinatorial optimization problem using DyPDL (or YAML-DyPDL)
  2. Choose a suitable heuristic search solver from the didp-rs library
  3. Run the solver on the DyPDL model to find optimal or near-optimal solutions
  4. Analyze the results and potentially refine the model or solver configuration

- Design tradeoffs:
  - Expressiveness vs. Tractability: More expressive DyPDL models may capture problem structure better but can lead to larger state spaces and increased computational complexity
  - Search Guidance vs. Pruning: Using dual bound functions for both search guidance and pruning may not be optimal; disentangling these roles could improve performance
  - Memory vs. Completeness: Beam search algorithms like CABS trade memory usage for completeness, potentially finding solutions faster but with less guarantee of optimality

- Failure signatures:
  - Solver does not terminate: Model may not be finite or acyclic, violating theoretical assumptions
  - Solver finds suboptimal solutions: Heuristic function may be inadmissible or not informative enough
  - Solver performance is poor: Model may not effectively exploit redundant information, or problem class may not be suited for state-space search

- First 3 experiments:
  1. Solve a simple TSPTW instance using the provided DyPDL model and the CAASDy solver. Verify that the solver finds the optimal solution and compare the performance with a MIP solver.
  2. Experiment with different heuristic search solvers (e.g., DFBnB, CBFS) on the same TSPTW instance. Compare their performance in terms of solution quality and computational time.
  3. Modify the TSPTW DyPDL model to include additional redundant information (e.g., state constraints) and evaluate the impact on solver performance.

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How do problem characteristics, specifically sequential dependencies, affect the performance of DIDP solvers compared to MIP and CP?
- Basis in paper: [explicit] The authors observe that DIDP outperforms MIP and CP in problem classes with sequential dependencies (e.g., TSPTW, OPTW, m-PDTSP, SALBP-1) but not in problems without them (e.g., CVRP, bin packing).
- Why unresolved: While the authors conjecture that sequential dependencies reduce the number of generated states in the state transition graph, they do not provide a rigorous analysis of how different problem characteristics impact solver performance.
- What evidence would resolve it: A systematic study comparing DIDP, MIP, and CP performance on a diverse set of problem classes, varying the presence and strength of sequential dependencies, could provide insights into the relationship between problem structure and solver effectiveness.

### Open Question 2
- Question: How important is the dual bound function in DIDP compared to search guidance for the overall performance of the solvers?
- Basis in paper: [explicit] The authors evaluate CABS with a trivial dual bound function (always returning 0) and observe a significant decrease in coverage, optimality gap, and primal integral compared to CABS with the actual dual bound function.
- Why unresolved: While the importance of the dual bound function is demonstrated, the relative importance of the dual bound function compared to search guidance for the performance of the DIDP solvers is not explicitly addressed.
- What evidence would resolve it: Experiments comparing the performance of DIDP solvers with different combinations of dual bound functions and search guidance heuristics (admissible and inadmissible) could quantify the relative contributions of each component to the overall solver performance.

### Open Question 3
- Question: How can decision diagrams (DDs) be effectively used as heuristic functions for DIDP?
- Basis in paper: [explicit] The authors mention that DDs can be a source of heuristic functions and that the existing DD-based solver requires a user-provided merging operator. They suggest two directions: developing a domain-independent merging operator for DyPDL and extending DyPDL to declaratively incorporate a merging operator.
- Why unresolved: The paper does not provide a concrete method for using DDs as heuristic functions for DIDP. The challenges of defining a merging operator and the potential benefits of incorporating DDs into DyPDL remain unexplored.
- What evidence would resolve it: Developing and evaluating a method for using DDs as heuristic functions in DIDP, either by creating a domain-independent merging operator or extending DyPDL to support declarative merging operators, could demonstrate the effectiveness of this approach and provide insights into the design of future DyPDL models.

## Limitations

- Experimental validation relies on authors' own solver implementations and specific problem instances, potentially not accounting for differences in implementation quality or parameter tuning
- DyPDL lacks support for conditional effects, continuous variables, and certain symmetry-breaking features
- Performance depends heavily on choice of heuristic functions, which may require domain expertise to design effectively

## Confidence

- High confidence in theoretical foundations of DyPDL and completeness/optimality proofs for heuristic search solvers under stated conditions
- Medium confidence in experimental results showing DIDP's performance advantages in specific problem classes
- Medium confidence in claim that DyPDL's expressiveness enables better performance through redundant information modeling
- Low confidence in universal applicability of DIDP across all combinatorial optimization problems

## Next Checks

1. Benchmark DIDP against state-of-the-art, production-quality MIP and CP solvers on the same problem instances to verify performance claims
2. Conduct ablation studies to quantify the performance impact of redundant information (dominance, bounds, forced transitions) in DyPDL models
3. Test DIDP on a broader range of combinatorial optimization problems, including those with continuous variables and conditional effects, to assess its practical limitations