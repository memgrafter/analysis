---
ver: rpa2
title: Online Detection of Anomalies in Temporal Knowledge Graphs with Interpretability
arxiv_id: '2408.00872'
source_url: https://arxiv.org/abs/2408.00872
tags:
- rule
- knowledge
- graph
- detection
- time
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper tackles the problem of online anomaly detection in temporal
  knowledge graphs (TKGs), where noise and evolving knowledge can significantly impact
  reliability. The authors propose AnoT, a novel TKG summarization method that constructs
  a rule graph to detect anomalies.
---

# Online Detection of Anomalies in Temporal Knowledge Graphs with Interpretability

## Quick Facts
- arXiv ID: 2408.00872
- Source URL: https://arxiv.org/abs/2408.00872
- Reference count: 40
- AnoT achieves 11.5% higher AUC and 13.6% higher precision than existing methods for anomaly detection in temporal knowledge graphs

## Executive Summary
This paper introduces AnoT, a novel framework for online anomaly detection in temporal knowledge graphs (TKGs) that provides interpretability through rule graph summarization. The method constructs a rule graph by mapping knowledge as atomic rules and linking them via chain and triadic occurrences, enabling both pattern inference and interpretable evidence for validity. AnoT employs a detector-updater-monitor architecture that allows for offline TKG summarization, online scoring, real-time rule graph updates, and error approximation. Experimental results on four real-world datasets demonstrate that AnoT significantly outperforms existing methods, achieving an average of 11.5% higher AUC and 13.6% higher precision in anomaly detection.

## Method Summary
AnoT addresses the challenge of detecting anomalies in temporal knowledge graphs by constructing a rule graph through MDL-based summarization. The framework maps knowledge into atomic rules, connects them via chain and triadic occurrences, and uses MDL encoding to select an optimal subset of rules and edges. A detector-updater-monitor architecture enables real-time adaptation to evolving TKGs: the detector builds the initial rule graph and scores new knowledge, the updater incrementally modifies the graph based on emerging knowledge, and the monitor estimates approximation error to trigger refreshes. Static scores identify conceptual errors, temporal scores detect time errors, and missing errors are inferred from low scores.

## Key Results
- AnoT achieves 11.5% higher AUC and 13.6% higher precision than existing methods for anomaly detection
- The framework effectively handles entity semantic changes, graph structure changes, and pattern changes in evolving TKGs
- Experimental results on four real-world datasets (ICEWS 14, ICEWS 05-15, YAGO 11k, GDELT, Wikidata) validate the effectiveness of the approach

## Why This Works (Mechanism)

### Mechanism 1
- Claim: AnoT's rule graph summarization captures both complex interaction patterns and temporal dependencies in TKGs, enabling interpretable anomaly detection.
- Mechanism: The method maps knowledge as atomic rules, links them via chain and triadic occurrences into a rule graph, then traverses the graph to gather evidence for scoring. This provides both pattern inference and interpretability.
- Core assumption: Complex patterns in TKGs can be decomposed into simpler atomic rules whose combinations capture the full semantic and temporal structure.
- Evidence anchors:
  - [abstract]: "AnoT begins by summarizing a TKG into a novel rule graph, enabling flexible inference of complex patterns in TKGs."
  - [section 4.3.4]: "Nodes in ð‘€ âˆ— represent valid interaction patterns found in the TKG... the timespans preserved in the edge provide the prompt of when it should occur."

### Mechanism 2
- Claim: The MDL-based selection process ensures the rule graph optimally balances expressiveness and compactness for anomaly detection.
- Mechanism: Iteratively adds rules and edges that maximally reduce description length, using encoding costs for rules, edges, and correct assertions versus negative errors.
- Core assumption: The optimal summarization for MDL compression will also be optimal for anomaly detection because anomalies are precisely the patterns not well-compressed.
- Evidence anchors:
  - [section 4.2]: "we consider it as a classic information-theoretic transmitter/receiver setting... the goal is to describe the graph to the receiver using as few bits as possible."
  - [section 4.3.3]: "Our objective is to select the candidate that leads to the largest encoding cost reduction in each iteration."

### Mechanism 3
- Claim: The detector-updater-monitor architecture enables real-time adaptation to evolving TKGs while maintaining detection accuracy.
- Mechanism: Detector builds initial rule graph, Updater incrementally modifies it based on new knowledge, Monitor estimates approximation error to trigger refreshes.
- Core assumption: Online changes to TKGs can be uniformly handled as editions to the rule graph rather than requiring complete reconstruction.
- Evidence anchors:
  - [abstract]: "Overall, AnoT embodies a detector-updater-monitor architecture, encompassing a detector for offline TKG summarization and online scoring, an updater for real-time rule graph updates based on emerging knowledge, and a monitor for estimating the approximation error of the rule graph."
  - [section 4.4]: "The continuous enrichment of TKG will alter the graph structure, entity semantics, and graph patterns... requiring ANoT to adapt online."

## Foundational Learning

- Concept: Minimum Description Length (MDL) principle
  - Why needed here: Provides theoretical foundation for selecting optimal rule graph that balances expressiveness and compactness
  - Quick check question: Why does minimizing description length help identify anomalies in the data?

- Concept: Temporal knowledge graph structure and semantics
  - Why needed here: Understanding how entities, relations, and timestamps interact is essential for building meaningful rule graphs
  - Quick check question: How do chain and triadic occurrences differ in representing temporal relationships between facts?

- Concept: Graph summarization techniques
  - Why needed here: Forms the basis for representing complex TKGs as simpler, interpretable rule graphs
  - Quick check question: What makes rule graphs more suitable for TKG anomaly detection compared to other summarization approaches?

## Architecture Onboarding

- Component map: Detector (rule graph construction and scoring) -> Updater (incremental modifications) -> Monitor (error estimation and refresh triggering)
- Critical path: Detector â†’ Scoring â†’ Updater â†’ Monitor â†’ Detector refresh
- Design tradeoffs: Expressiveness vs. efficiency (more complex rule graphs improve accuracy but increase computation), interpretability vs. completeness (simpler rules are more interpretable but may miss patterns)
- Failure signatures: Degrading AUC scores, increasing approximation error, inability to map new knowledge types
- First 3 experiments:
  1. Test rule graph construction on a small TKG with known patterns to verify atomic rule generation and edge creation
  2. Evaluate scoring accuracy on synthetic anomalies to validate static and temporal score calculations
  3. Measure update efficiency by injecting new knowledge and timing rule graph modifications

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does AnoT's performance compare to other methods when applied to temporal knowledge graphs with varying densities or sizes?
- Basis in paper: [inferred] The paper mentions that AnoT outperforms existing methods, but does not provide a detailed comparison across different TKG densities or sizes.
- Why unresolved: The paper only tests AnoT on four specific datasets, which may not represent the full range of TKG densities and sizes encountered in real-world applications.
- What evidence would resolve it: Conducting experiments on a wider variety of TKGs with different densities and sizes, and comparing AnoT's performance to other methods in each case.

### Open Question 2
- Question: How does the choice of hyperparameters, such as the maximum number of entity categories (k) and the timespan length (L), affect AnoT's performance?
- Basis in paper: [explicit] The paper mentions that different values of k and L can affect performance, but does not provide a comprehensive analysis of their impact.
- Why unresolved: The paper only provides a limited analysis of the effects of k and L, and does not explore the full range of possible values or their interactions.
- What evidence would resolve it: Conducting a more thorough sensitivity analysis of k and L, and determining their optimal values for different types of TKGs.

### Open Question 3
- Question: How does AnoT handle TKGs with noisy or incomplete entity categories?
- Basis in paper: [inferred] The paper mentions that AnoT can handle entity semantic changes, but does not explicitly address the issue of noisy or incomplete entity categories.
- Why unresolved: The paper does not provide any experiments or analysis on the impact of noisy or incomplete entity categories on AnoT's performance.
- What evidence would resolve it: Conducting experiments on TKGs with varying levels of noise or incompleteness in entity categories, and evaluating AnoT's ability to handle these cases.

## Limitations

- MDL encoding precision: The paper assumes precise numeric encoding costs for rules and edges but doesn't specify how to handle floating-point precision, which could accumulate and affect selection outcomes.
- Parameter sensitivity: Critical hyperparameters (k in category function, L in rule edge generation, K in recursive strategy) are not thoroughly validated, creating uncertainty in exact reproduction.
- Temporal pattern coverage: The rule graph structure assumes that complex temporal patterns can be decomposed into atomic rules and edges, but certain temporal dependencies may not be capturable this way.

## Confidence

- High Confidence: The overall detector-updater-monitor architecture and MDL-based summarization approach are well-founded and theoretically sound.
- Medium Confidence: The specific implementation details for MDL encoding and parameter settings are not fully specified, creating uncertainty in exact reproduction.
- Medium Confidence: The assumption that MDL compression optimality aligns with anomaly detection performance needs empirical validation across diverse TKG domains.

## Next Checks

1. **MDL Encoding Validation**: Implement a controlled experiment comparing MDL-based rule selection against random selection on a small synthetic TKG with known anomalies to verify that MDL compression correlates with detection accuracy.

2. **Parameter Sensitivity Analysis**: Systematically vary k (category function), L (rule edge timespan), and K (recursive strategy) on a validation set to identify robust ranges and potential brittleness.

3. **Temporal Pattern Coverage Test**: Create synthetic TKGs with complex temporal dependencies that cannot be decomposed into simple atomic rules, then evaluate whether AnoT fails to detect anomalies in these cases, revealing limitations of the rule graph approach.