---
ver: rpa2
title: Merging plans with incomplete knowledge about actions and goals through an
  agent-based reputation system
arxiv_id: '2402.00064'
source_url: https://arxiv.org/abs/2402.00064
tags:
- plan
- agent
- plans
- operator
- node
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper proposes and compares different methods for merging
  plans formed by sequences of actions when there is incomplete knowledge about action
  similarities and goals. The authors present an agent-based system where operator
  agents cooperate by applying actions over passive node agents, using a distributed
  recommendation system to generate useful plans based on past execution results.
---

# Merging plans with incomplete knowledge about actions and goals through an agent-based reputation system

## Quick Facts
- arXiv ID: 2402.00064
- Source URL: https://arxiv.org/abs/2402.00064
- Reference count: 31
- One-line primary result: Four plan merging methods using agent-based reputation systems show that reputation-weighted aggregation provides the most improvement over no-merging baselines when combining plans with incomplete knowledge.

## Executive Summary
This paper proposes an agent-based system for merging plans when operators have incomplete knowledge about action similarities and goals. The system uses operator agents that cooperate through recommendations, building a reputation system based on past execution results. Four different plan merging methods are implemented and tested through simulations with varying numbers of operators and nodes. The results demonstrate that while plan merging provides some improvement, the contribution from using recommendations is much greater than the merging methods themselves.

## Method Summary
The paper presents an agent-based framework where operator agents recommend plans to node agents based on their expertise. The system uses JADEX with BDI architecture and IEEE-FIPA protocols for communication. Four merging methods are implemented: no merging, reputation-based selection, weighted voting, and best-worst replacement. Reputation scores are computed from global and local expertise, and plans are combined by either selecting operations from the highest-reputation operator or aggregating recommendations weighted by reputation scores.

## Key Results
- Reputation-weighted plan combination significantly outperforms simple merging baselines
- The improvement from using recommendations is greater than the contribution from plan merging methods themselves
- Different merging methods show varying performance depending on the number of operators and nodes in the system

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Reputation-weighted plan combination outperforms simple merging because it incorporates historical performance signals.
- Mechanism: Each operator agent computes a "reputation" score for other agents based on their expertise (global and local). When merging plans, operations are weighted by the reputation of the agent that recommended them, and repeated operations across recommendations are summed to increase their selection probability.
- Core assumption: Past success in executing plans correlates with future plan quality, and this correlation can be estimated through a computable reputation metric.
- Evidence anchors:
  - [section] "Reputation of operator agents in our domain is contextual... It will be computed from the (global and local) expertise that the operator agent has using equation 6."
  - [section] "Next we will show how all these elements may be used to combine plans in 4 different ways..."
  - [corpus] Weak correlation; neighbor papers discuss reputation/ trust systems but not specifically for plan merging with incomplete knowledge.
- Break condition: If operator expertise measurements become unreliable or if reputation computation fails to reflect actual plan success, the reputation-weighted combination loses its advantage.

### Mechanism 2
- Claim: Combining plans through weighted operation selection improves upon no-merging baselines by leveraging multiple imperfect sources.
- Mechanism: For each timestep in the plan, the system sums the reputations of all operators that suggested a particular operation. The operation with the highest summed reputation is selected for that timestep, effectively aggregating multiple recommendations.
- Core assumption: Even if individual plans are suboptimal, aggregating across multiple plans weighted by operator reputation increases the likelihood of selecting better operations.
- Evidence anchors:
  - [section] "The operator agent would build the new plan combining the operations that have more reputation... repeated operations and operations from operators with good reputation have more options to become the operation suggested in the new plan step."
  - [section] "This process is summarized in equation 9 where numoper st stands for the number of different recommended operations for a given time step j and numrec stands for the number of recommenders that suggested such operation i to be applied in a given time step j."
  - [corpus] No direct evidence; the corpus neighbors focus on planning and recommendation systems but not on this specific aggregation mechanism.
- Break condition: If the reputation scores are uniformly low or if operators provide highly diverse, uncorrelated recommendations, the aggregation may not improve plan quality.

### Mechanism 3
- Claim: Selective replacement of operations from the best plan with those from other high-reputation plans introduces beneficial diversity.
- Mechanism: The system identifies the best plan (highest reputation) and the worst plan, then replaces a fixed number of operations in the best plan that match operations in the worst plan with alternatives from other recommendations, ordered by their reputation.
- Core assumption: The best plan can be further improved by selectively incorporating operations from other plans, even if those plans have lower overall reputation.
- Evidence anchors:
  - [section] "The operator agent modifies the recommended plan from the operator agent with most reputation... These operations would be replaced by different operations suggested by the other recommended plans (chosen in decreasing order of reputation of the operator agent)."
  - [section] "Therefore, this combination method is somehow similar to evolutive algorithms, where plans are the individuals to be crossed and reputation plays the role of fitness function."
  - [corpus] No direct evidence; the corpus neighbors do not discuss evolutionary algorithms or selective replacement in the context of plan merging.
- Break condition: If the fixed number of replacements is set too high, the method may degrade the quality of the best plan; if too low, it may not introduce enough beneficial diversity.

## Foundational Learning

- Concept: Agent-based recommendation systems
  - Why needed here: The paper's approach relies on agents recommending plans to each other based on past performance, which requires understanding how such systems compute and use reputation.
  - Quick check question: How does the reputation score in this system differ from simple frequency-based recommendation scoring?

- Concept: Plan merging strategies
  - Why needed here: The paper compares multiple methods for combining plans, each with different assumptions about how to weigh and select operations from different sources.
  - Quick check question: What is the key difference between "no merging considering recommendations" and the weighted aggregation approach?

- Concept: Partially ordered vs. completely ordered plans
  - Why needed here: The paper assumes completely ordered plans with one right action per step, which simplifies the merging process but limits applicability.
  - Quick check question: How would the merging algorithms need to change if plans were partially ordered instead of completely ordered?

## Architecture Onboarding

- Component map: Node agents -> Request proposals from operators -> Operator agents -> Query for recommendations -> Merge recommendations using one of four methods -> Send plan to node -> Node executes and reports success -> Operator updates expertise and reputation
- Critical path: Node agent identifies need for plan → requests proposals from operators → operator queries for recommendations → combines recommendations using one of the four merging methods → sends plan to node → node executes and reports success → operator updates expertise and reputation
- Design tradeoffs: The system assumes deterministic world and independent actions, which simplifies reputation computation but limits realism. The choice between merging methods involves balancing computational complexity against potential improvement in plan quality.
- Failure signatures: If reputation scores converge to similar values across operators, all merging methods will produce similar results. If node agents frequently reject plans, the system's learning mechanism is not capturing useful patterns. If communication overhead becomes excessive, the benefits of recommendations may not justify the cost.
- First 3 experiments:
  1. Run with 20 operators and 1 node, using method 0 (no merging) as baseline to establish performance without recommendations.
  2. Run with 2 operators and 2 nodes for 10 iterations, comparing method 1 (no merging considering recommendations) against method 0 to isolate the impact of recommendations.
  3. Run with 10 operators and 10 nodes for 10 iterations, comparing all four merging methods to identify which performs best under conditions with both recommendation quality improvement and plan combination.

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does the performance of plan merging methods vary with different node types and subtypes?
- Basis in paper: [explicit] The paper mentions that types and subtypes of nodes are setup parameters and that the suitability of an action over a given node can be computed based on its similarity to the type and subtype of the node that the action belongs to.
- Why unresolved: The paper only provides a simplistic simulation with a limited number of node types and subtypes. The performance of the merging methods in more complex scenarios with a larger variety of node types and subtypes is unknown.
- What evidence would resolve it: Running simulations with a wider range of node types and subtypes and comparing the performance of the merging methods in each scenario.

### Open Question 2
- Question: How does the performance of plan merging methods change with different numbers of operator agents and nodes?
- Basis in paper: [explicit] The paper presents results from simulations with different numbers of operator agents and nodes, showing that the performance of the merging methods can vary depending on these factors.
- Why unresolved: The paper only provides a limited number of simulations with specific numbers of operator agents and nodes. The performance of the merging methods in scenarios with different numbers of agents and nodes is unknown.
- What evidence would resolve it: Running simulations with a wider range of numbers of operator agents and nodes and comparing the performance of the merging methods in each scenario.

### Open Question 3
- Question: How does the performance of plan merging methods change with different initial expertise levels of operator agents?
- Basis in paper: [explicit] The paper mentions that operator agents have initial expertise levels, which can affect their ability to suggest suitable plans.
- Why unresolved: The paper only provides a simulation with a specific initial expertise level. The performance of the merging methods with different initial expertise levels is unknown.
- What evidence would resolve it: Running simulations with different initial expertise levels for operator agents and comparing the performance of the merging methods in each scenario.

## Limitations
- The system assumes deterministic worlds and completely ordered plans, which limits real-world applicability
- The simulation-based validation provides limited evidence for practical deployment in complex, stochastic environments
- The reputation system's effectiveness depends on reliable expertise measurement that may not generalize across diverse domains

## Confidence
- High confidence in the mechanism of reputation-weighted aggregation improving plan selection through operator expertise signals
- Medium confidence in the comparative performance of different merging methods, as the simulation results show only modest improvements
- Low confidence in the system's scalability and robustness when applied to real-world scenarios with uncertainty and partial observability

## Next Checks
1. Test the reputation-weighted merging method with partially ordered plans to evaluate its adaptability to more complex plan structures.
2. Conduct a systematic sensitivity analysis on the reputation computation parameters to identify conditions where the system breaks down.
3. Implement a stochastic version of the system with probabilistic action outcomes to assess performance degradation in non-deterministic environments.