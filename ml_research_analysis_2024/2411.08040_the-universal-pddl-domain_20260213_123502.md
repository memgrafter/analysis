---
ver: rpa2
title: The Universal PDDL Domain
arxiv_id: '2411.08040'
source_url: https://arxiv.org/abs/2411.08040
tags:
- domain
- action
- planning
- clear
- proposition
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: The paper demonstrates that PDDL's domain concept is overly general
  by constructing a "universal" domain capable of representing any propositional planning
  problem. The authors define multiple versions of such a domain, including one with
  a single action schema that simulates arbitrary propositional planning tasks through
  parameter instantiation.
---

# The Universal PDDL Domain

## Quick Facts
- arXiv ID: 2411.08040
- Source URL: https://arxiv.org/abs/2411.08040
- Reference count: 3
- The paper constructs a universal PDDL domain capable of representing any propositional planning problem

## Executive Summary
This paper demonstrates that PDDL's domain concept is overly general by constructing a "universal" domain capable of representing any propositional planning problem. The authors define multiple versions of such a domain, including one with a single action schema that simulates arbitrary propositional planning tasks through parameter instantiation. They show that any PDDL problem can be expressed as an instance of this universal domain, though this requires potentially exponential grounding. The authors prove that no polynomial-size lifted universal domain exists due to fundamental limitations on plan length relative to predicate arity.

## Method Summary
The paper constructs a universal PDDL domain that can represent any propositional planning problem by defining a domain with two types (action and proposition) and a single apply action schema. The construction works by creating an instance where all ground actions and propositions from the original problem become objects, with pre/add/del predicates describing each action's effects. The authors prove that this construction is theoretically sound but requires exponential instance size, and show that no polynomial-size lifted universal domain can exist due to the relationship between predicate arity and plan length bounds.

## Key Results
- Any propositional planning problem can be represented as an instance of the universal domain
- The universal domain requires potentially exponential instance size due to grounding
- No polynomial-size lifted universal domain exists due to fundamental limitations on plan length relative to predicate arity

## Why This Works (Mechanism)

### Mechanism 1
- Claim: The universal PDDL domain can represent any propositional planning problem through grounding
- Mechanism: The domain defines two types (action and proposition) and a single apply action schema. Any propositional planning problem can be encoded by creating an instance with all ground actions and propositions as objects, plus pre/add/del predicates describing each action's effects
- Core assumption: The planning problem is propositional (no first-order variables) and fits within PDDL's STRIPS subset
- Evidence anchors:
  - [abstract]: "any propositional planning problem instance, from any domain, becomes an instance of this (lifted) 'universal' domain"
  - [section 2]: "The universal PDDL domain for propositional planning, in its simplest form, is shown in Figure 1"
  - [corpus]: Weak - corpus papers focus on LLM applications to PDDL, not theoretical constructions of universal domains

### Mechanism 2
- Claim: The exponential blowup in instance size is unavoidable for lifted universal domains
- Mechanism: For a PDDL domain with maximum predicate arity k, there exists a problem requiring plan length 2^Θ(n) where n is the combined size of domain and problem. To represent this, the universal domain instance needs m ≥ 2^((n-1)/k) objects, making instance size exponential in n
- Core assumption: The plan length bound of 2^mk for a domain with max arity k and m objects is tight
- Evidence anchors:
  - [section 3]: "the length of a shortest plan for (D, P) is bounded by 2(mk)" and "it is possible to construct a PDDL domain D′ and problem P′ requiring a shortest plan of length 2^2(n-1)"
  - [corpus]: No direct evidence - corpus focuses on practical applications rather than complexity proofs

### Mechanism 3
- Claim: No polynomial-size lifted universal domain exists due to predicate arity limitations
- Mechanism: The maximum predicate arity k in any lifted PDDL domain creates a fundamental bound on plan lengths that can be represented. Since there exist problems requiring exponentially longer plans relative to domain/problem size, any universal domain must have exponential instance size
- Core assumption: The only restrictions a PDDL domain imposes are syntactic (like max predicate arity), not semantic
- Evidence anchors:
  - [section 3]: "Suppose there exists a universal domain for lifted PDDL planning: the maximum arity of any predicate in this domain is a fixed constant k" followed by the exponential size argument
  - [corpus]: Weak - corpus papers don't address this theoretical limitation

## Foundational Learning

- Concept: PDDL domain-problem separation
  - Why needed here: The paper exploits the separation between domain definitions (types, predicates, action schemas) and problem instances (objects, initial state, goal) to construct a universal domain
  - Quick check question: What are the two syntactic components of a PDDL planning problem, and what does each define?

- Concept: Grounding and its computational cost
  - Why needed here: The universal domain works by grounding all actions and propositions, but this causes exponential blowup that makes the approach impractical
  - Quick check question: Why does representing an arbitrary propositional planning problem as an instance of the universal domain require potentially exponential growth in problem size?

- Concept: Plan length bounds from predicate arity
  - Why needed here: The proof that no polynomial-size lifted universal domain exists relies on the fact that max predicate arity k bounds the number of ground propositions as m^k, hence bounding shortest plan length as 2^(mk)
  - Quick check question: How does the maximum arity of predicates in a PDDL domain create a bound on the length of the shortest plan for any instance of that domain?

## Architecture Onboarding

- Component map: The universal domain consists of two type definitions (action, proposition), one action schema (apply), and predicates for preconditions (pre), add effects (add), delete effects (del), and current truth values (true)
- Critical path: To use the universal domain, construct an instance by adding all ground actions/propositions as objects, then add (pre a p), (add a p), (del a p) atoms for each action-proposition pair based on the original problem's action definitions, and (true p) atoms for propositions true in the initial state
- Design tradeoffs: The universal domain is conceptually simple but practically infeasible due to exponential blowup; it demonstrates a theoretical point about PDDL's generality rather than providing a useful planning tool
- Failure signatures: If you try to use the universal domain for a first-order problem or one with conditional/recursive effects, the construction will fail; if you encounter memory issues with large problems, this is expected due to the exponential instance size
- First 3 experiments:
  1. Encode a simple STRIPS problem (like Blocksworld with 3 blocks) as an instance of the universal domain and verify the plans match
  2. Try encoding a problem with quantified conditional effects and observe why the construction breaks
  3. Measure the instance size growth as you increase the number of objects in a simple problem to confirm exponential scaling

## Open Questions the Paper Calls Out

### Open Question 1
- Question: Can a universal PDDL domain be constructed that allows polynomial-size instances for any domain-problem pair, possibly by extending PDDL with recursive terms or function symbols?
- Basis in paper: [explicit] The paper states "a more expressive formalism than classical PDDL, such as, for example, a language with recursive terms (function symbols), may not have a corresponding bound on plan length, and therefore may well have the capacity to formulate a universal domain that admits any domain–problem pair as a polynomial-size instance."
- Why unresolved: The authors only speculate about this possibility without proving whether such an extension would actually enable a polynomial-size universal domain.
- What evidence would resolve it: A formal proof demonstrating whether recursive terms or function symbols in PDDL would allow construction of a polynomial-size universal domain, or a counterexample showing why this is impossible.

### Open Question 2
- Question: What is the computational complexity of domain-dependent planning when restricted to specific syntactic fragments of PDDL beyond the extreme cases studied (delete-free with unary predicates vs. arbitrary domains)?
- Basis in paper: [explicit] The paper notes "The impact on the complexity of domain-specific lifted or generalised planning of restrictions in between these two, somewhat extreme, cases – analysing specific domains vs. coarse syntactic restrictions on PDDL domain formulations – is, as far as we know, mostly unexplored."
- Why unresolved: While some extreme cases have been studied, there is a gap in understanding the complexity landscape for intermediate syntactic restrictions.
- What evidence would resolve it: Complexity analysis of lifted planning under various syntactic restrictions that fall between the extremes of delete-free unary predicates and arbitrary domains.

### Open Question 3
- Question: Can domains that admit tractable underlying problems be characterized by syntactic restrictions using descriptive complexity theory?
- Basis in paper: [inferred] The paper states "Characterising the class of such domains by syntactic restrictions is likely to be challenging (though perhaps possible via descriptive complexity theory)" and references work suggesting tractable generalized planning is only possible for domains encoding tractable underlying problems.
- Why unresolved: The authors acknowledge this is likely possible but challenging, with no existing characterization.
- What evidence would resolve it: A formal characterization of tractable domains using descriptive complexity theory, or a proof that such characterization is impossible.

## Limitations

- The universal domain construction requires exponential instance size, making it impractical for real-world problems
- The results only apply to propositional planning and STRIPS subset of PDDL
- The impossibility proof for polynomial-size lifted universal domains relies on specific complexity arguments about plan lengths and predicate arity

## Confidence

- High confidence in the construction of the universal domain and its ability to represent propositional planning problems
- Medium confidence in the impossibility proof for polynomial-size lifted universal domains due to the complexity-theoretic arguments involved
- Medium confidence in the practical implications, as the exponential blowup makes the approach theoretically interesting but practically infeasible

## Next Checks

1. Verify the plan length bound argument by constructing specific PDDL domains that provably require exponential-length plans relative to domain/problem size
2. Test the universal domain construction on a suite of benchmark STRIPS problems to confirm correct behavior and measure actual instance size growth
3. Investigate whether extending PDDL with additional features (conditional effects, quantified conditions) fundamentally changes the universal domain construction or the impossibility results