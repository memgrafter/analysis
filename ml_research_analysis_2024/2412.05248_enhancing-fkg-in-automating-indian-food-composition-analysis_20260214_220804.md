---
ver: rpa2
title: 'Enhancing FKG.in: automating Indian food composition analysis'
arxiv_id: '2412.05248'
source_url: https://arxiv.org/abs/2412.05248
tags:
- food
- indian
- composition
- information
- recipes
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: 'This paper presents an automated food composition analysis workflow
  that enhances the Food Knowledge Graph for Indian food (FKG.in) by integrating nutritional
  data from verified sources. The system employs a three-pronged approach: a Nutrition
  Data Aggregator (NDA) agent that consolidates data from Indian Food Composition
  Tables, Indian Nutrient Databank, and Nutritionix API; an LLM-Augmented Information
  Resolution (LAIR) agent that addresses structural, multilingual, and uncertainty
  challenges in recipe data; and a Food Composition Analysis (FCA) agent that calculates
  nutritional values for recipes.'
---

# Enhancing FKG.in: automating Indian food composition analysis

## Quick Facts
- arXiv ID: 2412.05248
- Source URL: https://arxiv.org/abs/2412.05248
- Reference count: 32
- Primary result: Automated food composition analysis workflow processes 25,000+ Indian recipes with improved nutrient calculation accuracy

## Executive Summary
This paper presents an automated workflow for enhancing the Food Knowledge Graph for Indian food (FKG.in) by integrating nutritional data from multiple verified sources. The system addresses the challenge of representing Indian food digitally through a three-pronged approach: a Nutrition Data Aggregator that consolidates data from Indian Food Composition Tables, Indian Nutrient Databank, and Nutritionix API; an LLM-Augmented Information Resolution agent that handles structural, multilingual, and uncertainty challenges in recipe data; and a Food Composition Analysis agent that calculates nutritional values for recipes. The workflow successfully processes over 25,000 unique recipe instances, enabling diet-based health recommendations through a scalable, automated approach.

## Method Summary
The research develops an automated food composition analysis workflow that enhances FKG.in by integrating nutritional data from three verified sources: Indian Food Composition Tables (IFCT), Indian Nutrient Databank (INDB), and Nutritionix API. The system employs a sequential three-step process where the NDA agent first consolidates nutrition data, the LAIR agent resolves information extraction challenges using LLMs, and the FCA agent calculates recipe-level nutritional values. The approach addresses the lack of comprehensive, open-access nutritional information for Indian food items by creating a unified food composition table and using LLM-based techniques to handle multilingual text, structural variations, and missing data across 25,000+ recipes from diverse sources.

## Key Results
- Successfully processes 25,000+ unique recipe instances with improved nutrient calculation accuracy
- Implements a three-source aggregation system that addresses coverage gaps in Indian food nutrition data
- Demonstrates effective LLM-based resolution of structural and multilingual challenges in recipe information extraction

## Why This Works (Mechanism)

### Mechanism 1
- Claim: The three-source nutrition data aggregation provides comprehensive coverage for Indian food items.
- Mechanism: The NDA agent sequentially checks IFCT, INDB, and Nutritionix in order of priority, filling gaps left by each source.
- Core assumption: No single source provides complete nutritional data for all Indian food items and their variants.
- Evidence anchors:
  - [section 5]: "Since we could not find a single comprehensive and open-access source for obtaining nutritional information for Indian food items, we have used multiple sources"
  - [section 6]: "The NDA agent checks IFCT, INDB, and Nutritionix, in that order, to obtain nutritional information from them, if available"
  - [corpus]: Weak evidence - corpus neighbors don't discuss multi-source aggregation
- Break condition: If Nutritionix API becomes unavailable or IFCT/INDB are updated to include all variants, the sequential checking mechanism would become redundant.

### Mechanism 2
- Claim: LLM-augmented information resolution addresses structural and multilingual challenges in recipe data.
- Mechanism: The LAIR agent uses prompt engineering to normalize recipe formats, resolve ingredient name ambiguities, and estimate missing measurements.
- Core assumption: LLMs can reliably handle linguistic variations and extract structured information from unstructured recipe text.
- Evidence anchors:
  - [section 7]: "LLMs were employed as a tool to navigate these difficulties... we assert that LLMs can play a crucial role in mitigating challenges of extracting information from unstructured recipe texts"
  - [section 7]: "The LAIR agent employs LLMs for both pre-processing as well as post-processing tasks"
  - [corpus]: Weak evidence - corpus neighbors don't discuss LLM-based information resolution
- Break condition: If LLM API becomes unreliable, expensive, or if accuracy drops below acceptable threshold for critical nutritional calculations.

### Mechanism 3
- Claim: Automated food composition analysis enables scalable nutrient calculation across 25,000+ recipes.
- Mechanism: The FCA agent uses FKG.in-FCT to lookup ingredients, scales nutrient values proportionally, and sums them up for recipe-level calculations.
- Core assumption: Ingredient-level nutrient data can be linearly scaled and summed to accurately represent cooked recipes.
- Evidence anchors:
  - [section 8]: "The primary role of the FCA agent is to derive the nutrient and food composition of a recipe based on its ingredients and their quantities"
  - [section 9]: "FKG.in currently includes information on 25,000+ unique recipe instances"
  - [corpus]: Weak evidence - corpus neighbors don't discuss automated food composition analysis
- Break condition: If linear scaling assumptions fail for complex cooking processes, or if ingredient interactions significantly affect nutrient bioavailability.

## Foundational Learning

- Concept: Knowledge Graph Structure
  - Why needed here: Understanding how FKG.in organizes recipes, ingredients, and relationships is essential for working with the data model
  - Quick check question: What are the core entities and relationships in the Indian food ontology described in section 4?

- Concept: Food Composition Tables
  - Why needed here: Different sources (IFCT, INDB, Nutritionix) have varying structures and completeness, affecting how the NDA agent aggregates data
  - Quick check question: Which source provides scientific names, food groups, and vernacular names in 18 Indian languages?

- Concept: LLM Prompt Engineering
  - Why needed here: The LAIR agent relies on carefully crafted prompts to handle multilingual text and resolve uncertainties
  - Quick check question: What are the 10 key activities performed by the LAIR agent using LLMs?

## Architecture Onboarding

- Component map:
  Knowledge Curation (Step 0) -> NDA Agent (Step 1) -> FCA Agent (Step 2) -> LAIR Agent (Step 3) -> FKG.in Ingestion (Step 4)

- Critical path: User query → FCA Agent → FKG.in lookup → FKG.in-FCT lookup → LAIR resolution (if needed) → Nutrient calculation → Response

- Design tradeoffs:
  - Precision vs scalability: Linear scaling of nutrients chosen over complex cooking process modeling for automation
  - Cost vs accuracy: Using LLM for information resolution adds cost but handles linguistic complexity
  - Coverage vs consistency: Three-source approach provides broader coverage but requires careful conflict resolution

- Failure signatures:
  - Missing ingredients: LAIR agent needs to source from public APIs and mark as "LLM-sourced"
  - Incorrect nutrient calculations: May indicate missing retention factors or incorrect unit conversions
  - Slow responses: Could indicate bottlenecks in LLM calls or database queries

- First 3 experiments:
  1. Test the NDA agent with a recipe containing ingredients only found in Nutritionix to verify fallback mechanism works
  2. Input a recipe with multilingual ingredient names to test LAIR's name resolution capabilities
  3. Compare FCA agent output for a simple recipe against manual calculations to validate the scaling mechanism

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How accurate are LLM-estimated weights compared to actual measured weights for Indian ingredients?
- Basis in paper: [explicit] The paper states that LLM mostly estimates ingredient weights reasonably well by taking density and retention factors into account, but acknowledges occasional errors in the weight estimation process.
- Why unresolved: The paper does not provide quantitative data comparing LLM estimates against ground truth measurements for Indian ingredients, nor does it specify the error margins or confidence intervals for these estimates.
- What evidence would resolve it: Systematic measurement studies comparing LLM weight estimates against laboratory-verified weights for a diverse set of Indian ingredients under various conditions.

### Open Question 2
- Question: What is the impact of cooking retention and yield factors on nutritional accuracy for Indian recipes?
- Basis in paper: [explicit] The paper acknowledges that cooking reduces nutrients but notes that without accounting for retention and yield factors, nutrition calculations may be slightly overestimated. They have retention factors from USDA but are not currently using them.
- Why unresolved: The paper states that differences were found to be small for Indian food but does not provide specific data on how much nutritional values would change with retention factors applied.
- What evidence would resolve it: Controlled experiments measuring nutrient content before and after cooking Indian recipes, comparing results with and without retention factor adjustments.

### Open Question 3
- Question: How does the LAIR agent's performance vary across different Indian languages and regional dialects?
- Basis in paper: [explicit] The paper discusses multilingualism challenges and mentions that the LAIR agent handles transliteration and translation across various Indian languages, but does not provide quantitative performance metrics.
- Why unresolved: While the paper states that the LAIR agent gets "reasonably good results" for transliteration and translation, it does not specify accuracy rates, error types, or performance differences across languages.
- What evidence would resolve it: Comprehensive evaluation studies measuring LAIR agent accuracy across multiple Indian languages, including error analysis and comparison with human translation benchmarks.

## Limitations
- LLM Reliability: System dependence on LLM APIs introduces potential vulnerabilities including cost, availability, and accuracy variability
- Nutrient Retention Factors: Paper mentions retention and yield factors but doesn't detail how these are incorporated into calculations or validate their accuracy for Indian cooking methods
- Multi-source Data Conflicts: Sequential checking approach may miss optimal nutrient values when later sources have more accurate data for items found in earlier sources

## Confidence

- High Confidence: The overall architecture and workflow design for automating food composition analysis. The three-pronged approach addresses well-documented challenges in nutritional data processing.
- Medium Confidence: The effectiveness of LLM-based information resolution for handling multilingual and structural recipe variations. While the approach is sound, limited empirical validation is provided.
- Medium Confidence: The accuracy of nutrient calculations for complex Indian recipes involving multiple cooking steps and ingredient transformations.

## Next Checks
1. **Cross-validation with manual calculations**: Select 50 diverse recipes and compare FCA agent outputs against manual nutritional calculations to quantify accuracy rates and identify systematic errors.
2. **LLM output verification**: Implement a human-in-the-loop validation system for LAIR agent outputs, particularly for ingredient normalization and missing data estimation, to measure hallucination rates.
3. **Coverage analysis**: Test the NDA agent's ability to find nutritional data for all ingredients in 100 randomly selected recipes to identify gaps in the three-source coverage and evaluate the effectiveness of LLM-based supplementation.