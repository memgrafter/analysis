---
ver: rpa2
title: 'MedAide: Information Fusion and Anatomy of Medical Intents via LLM-based Agent
  Collaboration'
arxiv_id: '2410.12532'
source_url: https://arxiv.org/abs/2410.12532
tags:
- medical
- medaide
- query
- intent
- arxiv
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper presents MedAide, an LLM-based framework that uses multi-agent
  collaboration to fuse heterogeneous medical information from diverse clinical sources.
  The framework introduces a regularization-guided module combining syntactic constraints
  with retrieval-augmented generation to decompose complex queries into structured
  representations for fine-grained clinical information fusion and intent resolution.
---

# MedAide: Information Fusion and Anatomy of Medical Intents via LLM-based Agent Collaboration

## Quick Facts
- arXiv ID: 2410.12532
- Source URL: https://arxiv.org/abs/2410.12532
- Reference count: 15
- Primary result: Outperforms current LLMs on four medical benchmarks with composite intents, improving medical proficiency and strategic reasoning

## Executive Summary
MedAide introduces a novel LLM-based multi-agent framework that fuses heterogeneous medical information from diverse clinical sources to resolve complex healthcare queries. The system employs a regularization-guided module that combines syntactic constraints with retrieval-augmented generation to decompose complex queries into structured representations for fine-grained clinical information fusion. Through dynamic intent prototype matching and rotation agent collaboration, MedAide adaptively recognizes and updates agent intents during multi-round healthcare dialogues, demonstrating superior performance compared to existing LLMs on four medical benchmarks.

## Method Summary
The MedAide framework processes user queries through a multi-stage pipeline that begins with query rewriting via syntactic normalization and retrieval-augmented generation from medical guidelines. A BioBERT-based contextual encoder learns intent prototype embeddings and uses cosine similarity matching to recognize fine-grained medical intents. Based on recognized intents, specialized agents (pre-diagnosis, diagnosis, medicament, post-diagnosis) are dynamically activated and collaborate through decision-level information fusion. The system was trained on a dataset of 3,400 intent-labeled samples and evaluated across four medical benchmarks using both automated metrics and expert doctor assessments.

## Key Results
- Outperforms baselines including ZhongJing2, Meditron-7B, HuatuoGPT-II, Baichuan4, Llama-3.1-8B, and GPT-4o on four medical benchmarks
- Achieves improvements in medical proficiency and strategic reasoning through multi-agent collaboration
- Demonstrates effectiveness across 17 different intent types with 500 instances per benchmark

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Query rewriting via retrieval-augmented generation (RAG) improves intent comprehension by decomposing complex medical queries into structured representations
- Mechanism: The query prompter uses retrieved medical documents and the original query to generate optimized subqueries that address specific medical intents
- Core assumption: Decomposing complex queries into simpler, focused subqueries allows the intent recognition module to more accurately match intents to specialized agents
- Evidence anchors: [abstract] "we introduce a regularization-guided module that combines syntactic constraints with retrieval augmented generation to decompose complex queries into structured representations"
- Break condition: If retrieval documents are not relevant to the query, generated subqueries will be misaligned with actual medical needs

### Mechanism 2
- Claim: The contextual encoder with BioBERT backbone enables fine-grained intent recognition through semantic similarity matching against prototype embeddings
- Mechanism: The encoder maps queries and intent prototypes into a 768-dimensional space, then computes cosine similarity to identify the most relevant intents above a threshold
- Core assumption: Medical intents can be represented as distinct embedding vectors in a shared semantic space, allowing similarity-based matching to identify the correct intent
- Evidence anchors: [abstract] "a contextual encoder to learn intent prototype embeddings from multi-faceted instructions, which is utilized to specify fine-grained target intents via the similarity matching lemma"
- Break condition: If intent prototypes are not sufficiently distinct, similarity matching will fail to distinguish between similar intents

### Mechanism 3
- Claim: Dynamic agent rotation and decision-level information fusion across specialized medical agents improves holistic healthcare service delivery
- Mechanism: The framework activates different combinations of specialized agents based on recognized intents, with a decision analysis module integrating their outputs
- Core assumption: Complex medical queries often involve multiple intents that require different types of specialized knowledge, and combining these perspectives produces better outcomes
- Evidence anchors: [abstract] "we design a rotation agent collaboration mechanism that introduces dynamic role rotation and decision-level information fusion across specialized medical agents"
- Break condition: If agent collaboration introduces conflicting recommendations, the decision analysis module may struggle to produce coherent integrated results

## Foundational Learning

- Concept: Retrieval-augmented generation (RAG)
  - Why needed here: RAG allows the system to incorporate factual medical knowledge from external documents when generating query decompositions
  - Quick check question: What is the key difference between standard query rewriting and RAG-based query rewriting in this context?

- Concept: Semantic similarity matching
  - Why needed here: The system needs to match user queries to the correct medical intent categories
  - Quick check question: Why is cosine similarity used instead of other distance metrics for intent matching in this framework?

- Concept: Multi-agent collaboration patterns
  - Why needed here: Different medical intents require different types of expertise, and the framework must coordinate multiple specialized agents
  - Quick check question: How does the framework determine which agents should be activated for a given query?

## Architecture Onboarding

- Component map:
  Query Input Processor → Key Element Extractor → Retrieval-augmented Generation → Refined Query Constructor → Contextual Encoder → Intent Recognition → Agent Activation → Agent Collaboration → Decision Analysis Module → Final Response

- Critical path: Query rewriting (RAG) → Intent recognition (BioBERT encoder) → Agent activation → Decision analysis → Response generation

- Design tradeoffs:
  - Using BioBERT for intent recognition provides medical domain knowledge but increases model complexity
  - The multi-agent approach provides specialized expertise but introduces coordination overhead
  - Retrieval-augmented query rewriting improves grounding but depends on the quality of the medical document database

- Failure signatures:
  - Poor retrieval document quality leads to misaligned query decompositions
  - Insufficient distinction between intent prototypes causes incorrect agent activation
  - Agent conflicts during collaboration produce incoherent integrated decisions

- First 3 experiments:
  1. Test query rewriting with synthetic queries to verify decomposition quality and semantic preservation
  2. Evaluate intent recognition accuracy on labeled medical query dataset with known intent categories
  3. Test agent collaboration with controlled inputs to verify proper activation and integration across different intent combinations

## Open Questions the Paper Calls Out
None

## Limitations
- Critical implementation details like exact syntactic normalization rules and agent prompt templates are not provided, making faithful reproduction challenging
- Evidence supporting individual mechanism effectiveness is primarily based on overall system performance rather than isolated validation
- The framework's generalizability to medical domains beyond the tested benchmarks is not explicitly evaluated

## Confidence
- High confidence: Framework architecture and experimental methodology are clearly described
- Medium confidence: Claim that MedAide outperforms current LLMs is supported by reported experiments
- Low confidence: Effectiveness of regularization-guided query rewriting and dynamic intent prototype matching lacks direct empirical validation

## Next Checks
1. Conduct ablation studies to isolate the contribution of the query rewriting module by comparing performance with and without RAG-based query decomposition
2. Perform external validation by testing MedAide on additional medical datasets not used in the original experiments
3. Verify the semantic distinctiveness of intent prototypes by analyzing embedding distances between similar intent categories