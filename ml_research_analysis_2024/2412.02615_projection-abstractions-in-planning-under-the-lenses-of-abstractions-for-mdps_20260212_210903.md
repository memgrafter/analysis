---
ver: rpa2
title: Projection Abstractions in Planning Under the Lenses of Abstractions for MDPs
arxiv_id: '2412.02615'
source_url: https://arxiv.org/abs/2412.02615
tags:
- planning
- state
- abstractions
- abstraction
- function
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper establishes a formal relationship between projection
  abstractions in AI Planning (Classical and Probabilistic) and abstraction frameworks
  for discounted MDPs (WFAs, ARMDPs, ABPMDPs). It demonstrates how projection abstractions
  built in the Planning context can be equivalently represented under each MDP abstraction
  framework, making explicit the role of key assumptions such as the absence of conditional
  effects.
---

# Projection Abstractions in Planning Under the Lenses of Abstractions for MDPs

## Quick Facts
- arXiv ID: 2412.02615
- Source URL: https://arxiv.org/abs/2412.02615
- Reference count: 3
- This paper establishes a formal relationship between projection abstractions in AI Planning (Classical and Probabilistic) and abstraction frameworks for discounted MDPs (WFAs, ARMDPs, ABPMDPs).

## Executive Summary
This paper establishes a formal relationship between projection abstractions used in AI Planning and abstraction frameworks for discounted MDPs. It demonstrates how projection abstractions from the Planning context can be equivalently represented within WFA, ARMDP, and ABPMDP frameworks. The analysis reveals critical trade-offs: while Planning abstractions benefit from computational efficiency through the absence of conditional effects, MDP frameworks provide greater flexibility at increased computational cost. The paper identifies new research directions for both fields, particularly regarding efficient abstraction computation in complex domains with conditional effects.

## Method Summary
The paper provides theoretical analysis showing the equivalence between Planning abstractions and MDP abstraction frameworks. It defines Classical Planning tasks (P = ⟨F, A, I, G, C⟩) and Probabilistic Planning tasks, then maps them to Weighted Function Abstractions (WFAs), Abstract Robust MDPs (ARMDPs), and Abstract Bounded Parameter MDPs (ABPMDPs). The method involves applying aggregation functions to create abstract state spaces and verifying properties like connection-preservation and determinism. The analysis focuses on the role of assumptions like the absence of conditional effects in enabling efficient abstraction computation.

## Key Results
- Projection abstractions from Planning can be equivalently represented under WFA, ARMDP, and ABPMDP frameworks
- Absence of conditional effects enables efficient computation in Planning abstractions but limits flexibility
- MDP abstraction frameworks provide greater representational flexibility at increased computational cost
- WFAs ⊆ ARMDPs ⊆ ABPMDPs in terms of expressiveness and computational requirements

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Planning abstractions built without conditional effects can be represented exactly within MDP abstraction frameworks (WFAs, ARMDPs, ABPMDPs).
- Mechanism: The absence of conditional effects ensures state transitions are linear and unambiguous under the aggregation function, allowing exact mapping of transition and reward functions between Planning and MDP abstractions.
- Core assumption: Actions in the planning domain have no conditional effects; aggregation functions are linear projections.
- Evidence anchors:
  - [abstract] "demonstrates how projection abstractions built in the Planning context can be equivalently represented under each MDP abstraction framework"
  - [section] "If there are no conditional effects... then given a starting state s where an action a is applicable, the next state s′ will have the following form: s′ = s + f(a)"
  - [corpus] Weak - no direct evidence about conditional effects in related papers
- Break condition: Presence of conditional effects breaks linearity and creates ambiguity in state transitions under aggregation.

### Mechanism 2
- Claim: Different MDP abstraction frameworks provide trade-offs between computational efficiency and representational flexibility.
- Mechanism: WFAs use a single weighting function for all actions in an abstract state (computationally efficient but restrictive), while ARMDPs use action-specific weighting functions (more flexible but computationally intensive), and ABPMDPs provide interval-based representations (most flexible but most complex).
- Core assumption: The abstraction frameworks are correctly defined as described in the paper.
- Evidence anchors:
  - [abstract] "projection abstractions in Planning benefit from computational efficiency (no need to represent the transition graph), they are limited to domains without conditional effects. Conversely, MDP abstraction frameworks provide greater flexibility in defining aggregation functions but at increased computational cost"
  - [section] "WFAs ⊆ ARMDPs ⊆ ABPMDPs" and detailed definitions of each framework
  - [corpus] Weak - no direct evidence about these specific trade-offs in related papers
- Break condition: When the domain complexity exceeds the computational resources available for the more flexible frameworks.

### Mechanism 3
- Claim: The connection-preserving property ensures that abstract MDPs faithfully represent the connectivity of the original problem.
- Mechanism: An abstraction is connection-preserving when there is a connection between abstract states in the original MDP if and only if there is a corresponding connection in the abstract MDP, maintaining the problem structure.
- Core assumption: The aggregation function maintains the connectivity relationships between states.
- Evidence anchors:
  - [section] "Connection preserving intuitively means that if there is a connection between two different abstract classes in the original MDP then there is a connection between the relative abstract states in the abstraction through the same action"
  - [section] Formal definitions and proofs of connection-preserving properties for WFAs, ARMDPs, and ABPMDPs
  - [corpus] Weak - no direct evidence about connection-preserving properties in related papers
- Break condition: When the aggregation function abstracts away critical connectivity information between states.

## Foundational Learning

- Concept: Markov Decision Processes (MDPs) and their abstraction frameworks (WFAs, ARMDPs, ABPMDPs)
  - Why needed here: The paper builds a formal relationship between Planning abstractions and MDP abstraction frameworks
  - Quick check question: What are the three main abstraction frameworks for discounted MDPs mentioned in the paper?

- Concept: Planning abstractions, particularly projection abstractions and Pattern Database (PDB) heuristics
  - Why needed here: The paper starts from Planning abstractions and shows how they map to MDP frameworks
  - Quick check question: What is the key assumption about actions in Planning domains that enables efficient abstraction computation?

- Concept: The relationship between conditional effects and abstraction ambiguity
  - Why needed here: The paper identifies that the absence of conditional effects is crucial for maintaining deterministic abstractions
  - Quick check question: Why does the presence of conditional effects create problems for abstraction frameworks in both Planning and MDPs?

## Architecture Onboarding

- Component map:
  - Planning task (Classical or Probabilistic) -> Aggregation function -> Abstract state space -> WFA representation -> ARMDP representation -> ABPMDP representation

- Critical path:
  1. Parse Planning task definition
  2. Apply aggregation function to create abstract state space
  3. Map transition and reward functions to WFA representation
  4. Verify connection-preserving and deterministic properties
  5. Repeat for ARMDP and ABPMDP frameworks
  6. Generate comparative analysis of computational costs and representational power

- Design tradeoffs:
  - Computational efficiency vs. representational flexibility (WFAs vs. ARMDPs/ABPMDPs)
  - Handling of conditional effects (requires recompilation in Planning, limits abstraction efficiency)
  - State space size reduction vs. preservation of problem structure (connectivity)

- Failure signatures:
  - Inability to satisfy Eq. (1) for WFAs indicates contradictory action applicability constraints
  - Non-deterministic transitions in abstract MDPs suggest aggregation function ambiguity
  - Loss of connectivity between abstract states indicates connection-preserving property violation

- First 3 experiments:
  1. Implement the Logistics example from the paper and verify the ARMDP mapping
  2. Test WFA representation on a simple domain and identify cases where Eq. (1) cannot be satisfied
  3. Compare computational costs of computing abstractions with and without conditional effects in a small domain

## Open Questions the Paper Calls Out

### Open Question 1
- Question: What specific conditions ensure Weighted Function Abstractions (WFAs) remain closed under the Stochastic Shortest Path (SSP) framework?
- Basis in paper: explicit
- Why unresolved: The paper identifies that WFAs, developed for discounted MDPs, may not preserve the SSP property when aggregating transition and reward functions. While ARMDPs and ABPMDPs are shown to potentially maintain SSP properties, the specific conditions for WFAs remain unanalyzed.
- What evidence would resolve it: A formal proof demonstrating under what aggregation function properties (e.g., connection preservation, determinism) WFAs preserve proper policies and avoid zero-reward cycles in SSP contexts.

### Open Question 2
- Question: How can abstraction computation be made efficient in planning domains with many conditional effects without explicit transition graph representation?
- Basis in paper: inferred
- Why unresolved: The paper highlights that conditional effects prevent the linearity property needed for efficient projection abstractions. While recompilation is theoretically possible, it becomes computationally intractable. No existing methods address efficient abstraction computation in such complex domains.
- What evidence would resolve it: An algorithm demonstrating sub-exponential time complexity for computing projection abstractions in domains with conditional effects, validated on benchmark problems like Atari games.

### Open Question 3
- Question: What are the theoretical limits of abstraction frameworks (WFAs, ARMDPs, ABPMDPs) when applied to non-linear aggregation functions?
- Basis in paper: explicit
- Why unresolved: The paper focuses on projection abstractions (linear aggregation functions) and shows how they map to MDP abstraction frameworks. It mentions that MDP frameworks allow arbitrary aggregation functions but doesn't analyze the theoretical implications or limitations of non-linear aggregations.
- What evidence would resolve it: A characterization theorem establishing the relationship between non-linear aggregation functions and the expressiveness of each MDP abstraction framework, including computational complexity bounds.

## Limitations

- The analysis critically depends on the assumption of action linearity (no conditional effects), which significantly restricts applicability to real-world domains
- Computational cost of computing MDP abstractions grows exponentially with domain complexity, potentially limiting scalability
- The paper does not address how these abstraction frameworks perform in large-scale or noisy environments where aggregation functions may introduce significant approximation errors

## Confidence

**High Confidence**: The formal equivalence between Planning projection abstractions and MDP abstraction frameworks (WFAs, ARMDPs, ABPMDPs) is well-established through rigorous mathematical proofs and clear definitions. The connection-preserving property analysis is also highly reliable given the theoretical framework.

**Medium Confidence**: The computational efficiency claims regarding Planning abstractions are supported by theoretical arguments but lack empirical validation across diverse domain types. The trade-off analysis between different MDP frameworks is logically sound but would benefit from concrete performance measurements.

**Low Confidence**: The scalability claims for both Planning and MDP abstractions in complex domains remain largely theoretical, with no systematic evaluation of performance degradation in larger problem spaces.

## Next Checks

1. Implement and benchmark the three abstraction frameworks (WFAs, ARMDPs, ABPMDPs) on a standardized suite of planning problems with varying numbers of conditional effects to empirically validate the theoretical computational complexity claims.

2. Conduct an empirical study measuring the impact of aggregation function quality on solution optimality across different domain sizes and types, particularly focusing on how approximation errors scale with problem complexity.

3. Extend the current framework to handle domains with conditional effects by developing efficient recompilation techniques and evaluate whether the benefits of MDP abstraction frameworks still outweigh their computational costs in such scenarios.