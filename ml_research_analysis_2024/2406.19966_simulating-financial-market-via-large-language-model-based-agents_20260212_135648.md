---
ver: rpa2
title: Simulating Financial Market via Large Language Model based Agents
arxiv_id: '2406.19966'
source_url: https://arxiv.org/abs/2406.19966
tags:
- market
- stock
- agent
- trading
- economic
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces ASFM, an LLM-based agent framework for simulating
  financial markets. The authors construct a simulated stock market with real order
  matching, define diverse trader agents with different strategies, and equip them
  with observation and tool-learning capabilities.
---

# Simulating Financial Market via Large Language Model based Agents

## Quick Facts
- arXiv ID: 2406.19966
- Source URL: https://arxiv.org/abs/2406.19966
- Reference count: 40
- Key outcome: LLM-based agents simulate complex human trading behavior better than traditional mathematical models, validated through policy shock scenarios and trader behavior studies.

## Executive Summary
This paper introduces ASFM, an LLM-based agent framework for simulating financial markets that demonstrates sophisticated understanding of market dynamics and financial policy information. The framework constructs a simulated stock market with real order matching and defines diverse trader agents with different strategies, achieving consistency with real markets in controllable scenarios like interest rate changes and inflation shocks. The agents make decisions based on their trading strategy, mirroring human behavior more accurately than traditional mathematical models and offering a new paradigm for economic research.

## Method Summary
The ASFM framework implements a simulated stock market with real order matching systems and defines four types of trader agents (value, institutional, contrarian, and aggressive investors) with distinct trading strategies. Each agent is equipped with observation and tool-learning capabilities to interact with the market environment. The framework validates its effectiveness by testing agent responses to controlled scenarios including interest rate cuts and inflation shocks, then explores economic research directions examining trader behavior bias and the impact of large traders on market dynamics.

## Key Results
- ASFM demonstrates consistent market reactions to policy shocks (interest rate cuts, inflation) that align with established economic theories
- Agent composition significantly affects market volatility, with value investors producing lower volatility and aggressive investors creating higher turnover rates
- Agents make trading decisions based on their defined strategies, capturing behavioral nuances that traditional mathematical models typically miss

## Why This Works (Mechanism)

### Mechanism 1
- Claim: LLM-based agents simulate complex human trading behavior better than traditional mathematical models.
- Mechanism: By defining rich agent profiles (value investor, institutional investor, contrarian investor, aggressive investor) and equipping agents with observation and tool-learning modules, the framework captures behavioral nuances that mathematical models typically miss.
- Core assumption: LLM reasoning can approximate human decision-making processes in financial markets when given appropriate context and constraints.
- Evidence anchors:
  - [abstract] "agents making decisions based on their trading strategy, mirroring human behavior more accurately than traditional mathematical models"
  - [section 2.4] "We define four types of different investment strategies: value investors, institutional investors, contrarian investors, and aggressive investors"
  - [corpus] Weak evidence - corpus contains only stock prediction papers, not LLM agent behavior studies
- Break condition: If LLM reasoning fails to capture key human behavioral biases or produces systematically incorrect trading decisions that diverge from real market patterns.

### Mechanism 2
- Claim: Simulated market reactions to policy shocks match real-world economic theories.
- Mechanism: By introducing controlled scenarios (interest rate changes, inflation shocks) and observing agent responses, the framework validates whether LLM agents react consistently with established economic principles.
- Core assumption: Economic theory provides reliable predictions about market responses to policy changes that can be used as validation benchmarks.
- Evidence anchors:
  - [section 4.2] "after informing the simulated market about the rate cut, the average return of all stocks gradually increased" - matches economic theory
  - [section 4.3] "both excessively high and excessively low inflation rates negatively impact the rate of return" - aligns with economic research
  - [corpus] Weak evidence - corpus focuses on ML stock prediction, not policy shock validation
- Break condition: If agent responses to policy shocks consistently contradict established economic theories across multiple scenarios.

### Mechanism 3
- Claim: Agent composition affects market volatility and trading dynamics.
- Mechanism: By varying the proportions of different investor types (value, institutional, contrarian, aggressive), the framework demonstrates how behavioral biases influence market characteristics like volatility and turnover.
- Core assumption: Different trading strategies produce distinct market impact patterns that can be observed and measured.
- Evidence anchors:
  - [section 4.4] "when the market consists entirely of value investors, the overall market volatility is lower" and "when the market consists entirely of aggressive investors, there is a significantly higher order quantity and turnover rate"
  - [section 3.5] "To study how stock market volatility varies with different proportions of investor types, we alter the investor type ratios"
  - [corpus] Weak evidence - corpus lacks behavioral economics studies using LLM agents
- Break condition: If changing investor type ratios produces no measurable difference in market metrics or produces counterintuitive results.

## Foundational Learning

- Concept: Order matching systems and price priority rules
  - Why needed here: The framework implements a real order matching system that determines transaction prices and execution order
  - Quick check question: What determines the transaction price when multiple buy and sell orders exist at different price levels?

- Concept: Economic policy impact mechanisms
  - Why needed here: The framework validates agent responses to interest rate cuts and inflation shocks against economic theories
  - Quick check question: How do interest rate cuts typically affect borrowing costs and stock market returns according to economic theory?

- Concept: Behavioral economics and investor psychology
  - Why needed here: Different agent profiles are based on behavioral economics concepts to capture irrational human behavior
  - Quick check question: What distinguishes a contrarian investor's strategy from a value investor's approach?

## Architecture Onboarding

- Component map: LLM-based Trading Agent → Observation Module → Tool-Learning Action Module → Order Matching System → Market State Update → Agent Feedback Loop
- Critical path: Agent Profile → Market Observation → Decision Making → Tool Execution → Order Matching → Price Update → Next Observation
- Design tradeoffs: Rich agent profiles vs. computational cost; realistic order matching vs. simulation speed; diverse investor types vs. market complexity
- Failure signatures: Agents making random trades (observation module failure); all agents converging to same strategy (profile module failure); order matching not reflecting real market rules
- First 3 experiments:
  1. Run single-agent simulation with one strategy to verify basic trading functionality
  2. Test order matching system with predefined buy/sell orders to validate price calculation
  3. Simulate interest rate cut scenario to observe basic policy response patterns

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does ASFM's performance scale with an increased number of agents and more diverse trading strategies?
- Basis in paper: [inferred] The paper mentions that the current framework uses four types of investors and 11 industry sectors. It also suggests that more financial market participants and behaviors need to be incorporated in future work.
- Why unresolved: The paper does not provide experiments or analysis on how the model's performance changes with varying numbers of agents or more diverse strategies.
- What evidence would resolve it: Conducting experiments with different numbers of agents and more varied trading strategies, and comparing the results in terms of market volatility, order execution rates, and other relevant metrics.

### Open Question 2
- Question: How does the inclusion of more complex economic factors, such as bank lending and bond issuance, affect the accuracy of ASFM's market simulations?
- Basis in paper: [explicit] The paper's future directions section mentions the need to incorporate more financial market participants and behaviors, such as banks, loans, and bond issuance.
- Why unresolved: The current ASFM framework does not include these complex economic factors, and their impact on market simulation accuracy is unknown.
- What evidence would resolve it: Expanding the ASFM framework to include these factors and comparing the simulation results with real-world market data to assess improvements in accuracy.

### Open Question 3
- Question: Can ASFM accurately simulate the impact of large-scale economic events, such as global financial crises or pandemics, on stock market behavior?
- Basis in paper: [inferred] The paper discusses simulating the impact of interest rate changes and inflation shocks, but does not explore more complex, large-scale economic events.
- Why unresolved: The current experiments focus on relatively controlled scenarios, and the model's ability to handle more complex, large-scale events is untested.
- What evidence would resolve it: Simulating the impact of large-scale economic events on the ASFM and comparing the results with historical market data from similar real-world events.

## Limitations
- The framework's ability to capture true human-like trading behavior remains uncertain without direct comparison to actual human trader data
- Computational resources required for large-scale simulations with multiple LLM agents may limit practical deployment
- Evaluation relies primarily on consistency with economic theories rather than quantitative comparison with real market data

## Confidence
**High Confidence**: The framework's basic architecture and implementation of order matching systems is sound, as these components follow established financial market mechanisms and can be independently verified.

**Medium Confidence**: The claim that LLM-based agents better capture behavioral nuances than traditional models is supported by qualitative observations but lacks quantitative comparison with real market data or alternative simulation approaches.

**Low Confidence**: The assertion that agent responses consistently match economic theories across all tested scenarios requires further validation, as the current evidence is based on limited test cases and may not generalize to more complex market conditions.

## Next Checks
1. **Direct Human Behavior Comparison**: Run parallel simulations using the same market conditions with both LLM agents and actual historical trading data to measure behavioral alignment beyond theoretical consistency.

2. **Stress Test with Novel Scenarios**: Introduce unexpected market events not covered by economic theory (e.g., sudden geopolitical shocks, technological disruptions) to evaluate whether agent responses remain reasonable and adaptive.

3. **Scale and Robustness Analysis**: Test the framework's performance across different market sizes, trading volumes, and agent population distributions to identify breaking points and computational limitations.