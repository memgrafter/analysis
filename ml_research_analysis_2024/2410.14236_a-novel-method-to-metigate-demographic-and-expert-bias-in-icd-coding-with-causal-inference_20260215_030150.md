---
ver: rpa2
title: A Novel Method to Metigate Demographic and Expert Bias in ICD Coding with Causal
  Inference
arxiv_id: '2410.14236'
source_url: https://arxiv.org/abs/2410.14236
tags:
- expert
- demographic
- coding
- medical
- deci
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: 'This paper introduces DECI, a novel method addressing demographic
  and expert biases in ICD coding using causal inference. The method models ICD coding
  through three pathways: aggregated knowledge, direct demographic influence, and
  irrelevant expert activation.'
---

# A Novel Method to Metigate Demographic and Expert Bias in ICD Coding with Causal Inference

## Quick Facts
- arXiv ID: 2410.14236
- Source URL: https://arxiv.org/abs/2410.14236
- Authors: Bin Zhang; Junli Wang
- Reference count: 16
- One-line primary result: DECI improves ICD coding accuracy by mitigating demographic and expert biases through causal inference and counterfactual reasoning.

## Executive Summary
This paper introduces DECI, a novel method addressing demographic and expert biases in ICD coding using causal inference. The method models ICD coding through three pathways: aggregated knowledge, direct demographic influence, and irrelevant expert activation. By employing counterfactual reasoning, DECI mitigates these biases by subtracting their contributions during inference. Experiments on MIMIC-III datasets demonstrate significant performance improvements over state-of-the-art models, with notable enhancements in F1 and Precision@K scores. Ablation studies confirm the effectiveness of each pathway in reducing bias, and qualitative case studies illustrate DECI's ability to produce more accurate and unbiased ICD code predictions.

## Method Summary
DECI is a causality-based framework that improves ICD coding by modeling three distinct pathways: aggregated knowledge (D, T) → K → Er → L, direct demographic influence D → Er → L, and irrelevant expert activation (D, T) → K → Eir → L. The model uses a Mixture of Experts (MoE) framework to represent domain-specific expertise from various medical departments. Counterfactual reasoning techniques are applied to subtract the direct effects of demographic factors and irrelevant experts during inference, isolating the impact of aggregated knowledge and relevant expert input. The model is trained using cross-entropy loss with weighted contributions from each pathway, and evaluated on the MIMIC-III dataset using metrics like Micro/Macro F1 and Precision@K.

## Key Results
- DECI significantly improves F1 and Precision@K scores on MIMIC-III datasets compared to baseline models.
- Ablation studies demonstrate the effectiveness of each causal pathway in reducing demographic and expert biases.
- Qualitative case studies show DECI's ability to produce more accurate and unbiased ICD code predictions.

## Why This Works (Mechanism)

### Mechanism 1
- Claim: The DECI framework improves ICD coding accuracy by modeling three distinct causal pathways: aggregated knowledge, direct demographic influence, and irrelevant expert activation.
- Mechanism: DECI uses counterfactual reasoning to subtract the contributions of demographic and expert biases during inference, isolating the effect of aggregated knowledge with relevant expert input.
- Core assumption: The causal relationships between demographic factors, medical notes, knowledge, and ICD codes can be accurately modeled and separated through the three pathways.
- Evidence anchors:
  - [abstract] "We provide a novel causality-based interpretation in ICD Coding that models make predictions by three distinct pathways. And based counterfactual reasoning, DECI mitigate demographic and expert biases."
  - [section] "The SCM of DECI, which is formulated as a directed acyclic graph, is shown in Figure 2 (a). D, T, K, L, Er and Eir represent demographic factors, the medical note, aggregated knowledge, label, relevant expert and irrelevant expert respectively. The SCM encompasses three distinct pathways..."
- Break condition: If the causal assumptions do not hold (e.g., if demographic factors and expert knowledge are not separable), the subtraction mechanism may fail or introduce new errors.

### Mechanism 2
- Claim: By employing a Mixture of Experts (MoE) framework, DECI can model domain-specific expertise and mitigate biases introduced by irrelevant expert knowledge.
- Mechanism: The MoE framework represents specialists from various medical departments, and counterfactual reasoning is used to subtract the direct effect of irrelevant experts on ICD code predictions.
- Core assumption: The domain-specific expertise of different medical departments can be effectively modeled using an MoE framework, and the contributions of irrelevant experts can be accurately identified and subtracted.
- Evidence anchors:
  - [abstract] "When human coders assign ICD codes, they typically draw upon the knowledge specific to their respective departments... To model this expertise, we implement a Mixture of Experts (MoE) framework, representing specialists from various departments."
  - [section] "To model this domain-specific expertise, we adopt a Mixture of Experts (MoE) framework(Jacobs et al., 1991), to represent specialists from various medical fields. Additionally, we apply counterfactual reasoning techniques to mitigate biases stemming from unrelated areas of expertise..."
- Break condition: If the MoE framework cannot accurately model the domain-specific expertise or if the irrelevant expert contributions cannot be effectively isolated, the bias mitigation may not be successful.

### Mechanism 3
- Claim: The DECI framework improves performance on rare ICD codes by reducing spurious correlations learned from demographic factors and irrelevant expert knowledge.
- Mechanism: By subtracting the direct effects of demographic factors and irrelevant expert knowledge, DECI forces the model to rely more on the aggregated knowledge and relevant expert input, leading to more accurate predictions, especially for rare codes.
- Core assumption: The spurious correlations learned by the model are primarily due to demographic factors and irrelevant expert knowledge, and removing these influences will improve performance on rare codes.
- Evidence anchors:
  - [abstract] "These models tend to leverage these imbalances, learning shortcuts instead of focusing on the underlying task. As a result, predictions may rely heavily on demographic factors like gender and age, which can lead to spurious correlations."
  - [section] "The predictive model exhibits a propensity to generate outcomes that may be unduly influenced by spurious correlations between ICD codes L and demographic variables D, such as gender and age."
- Break condition: If the spurious correlations are not primarily due to demographic factors and irrelevant expert knowledge, or if removing these influences introduces new errors, the performance on rare codes may not improve.

## Foundational Learning

- Concept: Causal inference and counterfactual reasoning
  - Why needed here: To understand and mitigate the biases in ICD coding by modeling the causal relationships between demographic factors, expert knowledge, and ICD code predictions.
  - Quick check question: What is the difference between correlation and causation, and why is it important in this context?

- Concept: Mixture of Experts (MoE) framework
  - Why needed here: To model the domain-specific expertise of different medical departments and identify the contributions of irrelevant experts in ICD coding.
  - Quick check question: How does the MoE framework work, and what are its advantages in this application?

- Concept: Multi-label text classification
  - Why needed here: ICD coding is a multi-label text classification problem, where multiple ICD codes need to be assigned to a single medical note.
  - Quick check question: What are the challenges in multi-label text classification, and how does this relate to the ICD coding task?

## Architecture Onboarding

- Component map: Encoder -> Attention Mechanisms -> Mixture of Experts (MoE) -> Counterfactual Reasoning Modules
- Critical path: The critical path in the DECI framework is the processing of the medical notes and demographic factors through the encoder and attention mechanisms, followed by the MoE framework and counterfactual reasoning modules to produce the final ICD code predictions.
- Design tradeoffs: The main design tradeoff in the DECI framework is the balance between accurately modeling the causal relationships and the computational complexity of the counterfactual reasoning modules. Another tradeoff is the selection of the appropriate number of experts in the MoE framework to model the domain-specific expertise effectively.
- Failure signatures: If the DECI framework fails to mitigate the biases, the ICD code predictions may still be influenced by demographic factors and irrelevant expert knowledge. Additionally, if the counterfactual reasoning modules are not accurately implemented, the subtraction of biases may introduce new errors.
- First 3 experiments:
  1. Evaluate the performance of the DECI framework on a small subset of the MIMIC-III dataset to ensure that the basic components are working correctly.
  2. Compare the performance of the DECI framework with and without the counterfactual reasoning modules to assess the impact of bias mitigation.
  3. Analyze the contributions of the individual pathways (aggregated knowledge, direct demographic influence, and irrelevant expert activation) to identify the most significant sources of bias and optimize the framework accordingly.

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does the performance of DECI vary when applied to different medical coding systems beyond ICD-9, such as ICD-10 or other national coding standards?
- Basis in paper: [inferred] The paper evaluates DECI on MIMIC-III using ICD-9 codes, but does not explore its applicability to other coding systems.
- Why unresolved: The study focuses solely on ICD-9 within the MIMIC-III dataset, leaving the generalizability to other coding systems untested.
- What evidence would resolve it: Experimental results demonstrating DECI's performance across multiple coding systems, including ICD-10 and other national standards, would clarify its broader applicability.

### Open Question 2
- Question: What is the impact of DECI on the interpretability of model predictions, particularly in terms of providing explanations for code assignments?
- Basis in paper: [inferred] While DECI aims to mitigate biases, the paper does not explicitly address how it affects the interpretability or explainability of the model's predictions.
- Why unresolved: The focus is on performance metrics, with limited discussion on how DECI influences the transparency of the decision-making process.
- What evidence would resolve it: Analysis of DECI's impact on model interpretability, including case studies or metrics that assess the clarity of predictions, would provide insights into its explanatory capabilities.

### Open Question 3
- Question: How does DECI handle the integration of emerging medical knowledge or updates to ICD codes, such as new codes or changes in existing ones?
- Basis in paper: [inferred] The paper does not address the adaptability of DECI to changes in medical coding standards or the incorporation of new knowledge.
- Why unresolved: The static nature of the MIMIC-III dataset used in the study does not reflect the dynamic nature of medical coding, where updates and changes are frequent.
- What evidence would resolve it: Demonstrations of DECI's ability to adapt to new coding standards or incorporate updated medical knowledge would highlight its flexibility and long-term viability.

## Limitations
- Causal assumptions are not empirically validated, making the framework's effectiveness dependent on these assumptions holding true.
- Experiments are limited to the MIMIC-III dataset, raising questions about generalizability to other clinical settings or coding systems.
- Key hyperparameters like α and β are not specified, hindering exact reproduction of results and assessment of sensitivity.

## Confidence
- High Confidence: The theoretical framework and use of causal inference for bias mitigation are well-founded and supported by ablation studies and qualitative case studies.
- Medium Confidence: Experimental results show significant improvements, but confidence is limited by lack of hyperparameter details and potential overfitting due to model complexity.
- Low Confidence: Generalizability to other datasets and clinical settings is uncertain due to reliance on MIMIC-III and lack of external validation.

## Next Checks
1. Conduct a sensitivity analysis to test the robustness of the causal assumptions by introducing controlled variations in demographic factors and expert knowledge.
2. Perform a grid search or hyperparameter optimization to determine the impact of α and β on model performance and assess stability across the range of values.
3. Evaluate the DECI framework on a different dataset, such as MIMIC-IV or a dataset from another healthcare institution, to assess generalizability and robustness to data shifts.