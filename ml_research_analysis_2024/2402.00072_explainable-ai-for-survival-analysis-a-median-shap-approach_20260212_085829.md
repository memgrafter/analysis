---
ver: rpa2
title: 'Explainable AI for survival analysis: a median-SHAP approach'
arxiv_id: '2402.00072'
source_url: https://arxiv.org/abs/2402.00072
tags:
- survival
- shapley
- values
- feature
- median-shap
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces median-SHAP, an Explainable AI method tailored
  to survival analysis. The authors identify that using mean-based anchor points in
  standard Shapley values can generate misleading interpretations when distributions
  are skewed, which is common in survival data.
---

# Explainable AI for survival analysis: a median-SHAP approach

## Quick Facts
- arXiv ID: 2402.00072
- Source URL: https://arxiv.org/abs/2402.00072
- Reference count: 6
- Key outcome: Median-SHAP improves interpretability for survival analysis by anchoring explanations to the median individual rather than an artificial mean instance

## Executive Summary
This paper introduces median-SHAP, an Explainable AI method tailored to survival analysis. The authors identify that using mean-based anchor points in standard Shapley values can generate misleading interpretations when distributions are skewed, which is common in survival data. Median-SHAP replaces the mean with the median both as the summary statistic and estimator, anchoring explanations to the median individual in the reference population. Experiments on two datasets (Worcester Heart Attack Study and breast cancer survival data) show that median-SHAP attributions align more closely with feature importance from classification models than standard Shapley values, demonstrating improved interpretability and robustness.

## Method Summary
Median-SHAP modifies the standard Shapley value framework by replacing the mean with the median as both the summary statistic and estimator. The method anchors explanations to the median individual in the reference population rather than an artificial mean instance. It uses observational Shapley values that condition on observed feature values to preserve correlations, and computes the median of expected changes in model outcomes to provide robust feature attributions. The approach maintains Shapley axioms while offering clinically relevant explanations for survival analysis models.

## Key Results
- Median-SHAP attributions align more closely with feature importance from classification models than standard Shapley values
- Using median instead of mean provides robustness to skewed survival time distributions common in survival data
- Anchoring to the median individual (an actual observed patient) rather than mean improves clinical interpretability

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Using the median instead of the mean as a summary statistic and estimator makes the method robust to skewed survival time distributions.
- Mechanism: Survival time distributions are typically right-skewed due to censoring and long-tailed hazards. The mean is sensitive to these outliers, while the median represents the middle value and is unaffected by extreme tails. By anchoring to the median individual, the explanations remain stable and meaningful even when a few patients have very long survival times.
- Core assumption: The median is a better representative of central tendency for survival time distributions than the mean.
- Evidence anchors:
  - [abstract]: "median-SHAP replaces the mean with the median both as the summary statistic and estimator, anchoring explanations to the median individual in the reference population"
  - [section]: "We show that the convention of using a mean anchor point may generate misleading interpretations for survival analysis"
  - [corpus]: Weak - No direct corpus evidence comparing median vs mean performance for survival data specifically.
- Break condition: If the survival time distribution is symmetric (rare in practice), the advantage of median over mean disappears.

### Mechanism 2
- Claim: Anchoring to the median individual rather than the mean makes the explanations more clinically interpretable.
- Mechanism: The mean individual is a synthetic construct that doesn't exist in the reference population. In contrast, the median individual is an actual observed patient whose feature values and predicted survival time are real. This makes it easier for clinicians to understand "how does this patient compare to the median patient" rather than "how does this patient compare to an artificial mean patient."
- Core assumption: Clinicians prefer comparisons to real individuals over synthetic constructs for interpretability.
- Evidence anchors:
  - [abstract]: "median-SHAP offers increased interpretability as comparisons are made with an actual individual from the reference population"
  - [section]: "we're comparing our individual x with the median predicted individual i.e. the individual with median prediction in the cohort"
  - [corpus]: Weak - No direct corpus evidence on clinician preferences for median vs mean anchoring.
- Break condition: If the reference population has multiple modes or is multimodal, the median may not be a good representative individual.

### Mechanism 3
- Claim: Using observational Shapley values with median estimation preserves feature correlations while providing robust explanations.
- Mechanism: Observational Shapley values condition on the observed feature values (xS) when sampling reference points, maintaining the natural correlations between features. This prevents the model from being evaluated on unrealistic combinations of feature values. The median estimator adds robustness to this approach by being insensitive to outliers in the value function distribution.
- Core assumption: Preserving feature correlations is important for meaningful explanations in survival analysis.
- Evidence anchors:
  - [abstract]: "median-SHAP takes the median of the expected change in model outcome... That is, each φ j may be interpreted as the contribution of feature value xj to the shift f (x) − φ 0"
  - [section]: "Using a conditional reference distribution further ensures that our black-box isn't evaluated off the data manifold"
  - [corpus]: Weak - No direct corpus evidence on observational vs interventional Shapley values for survival analysis specifically.
- Break condition: If features are truly independent, the conditioning becomes unnecessary.

## Foundational Learning

- Concept: Right-censored survival data
  - Why needed here: Survival analysis deals with time-to-event data where some events haven't occurred by study end, requiring specialized statistical methods
  - Quick check question: What happens to the mean survival time when there's significant right-censoring in the data?

- Concept: Shapley values and their axioms
  - Why needed here: The method builds directly on Shapley values, so understanding efficiency, dummy, symmetry, and linearity axioms is crucial
  - Quick check question: Which Shapley axiom ensures that the sum of all feature attributions equals the total prediction?

- Concept: Conditional vs marginal reference distributions
  - Why needed here: The choice between observational (conditional) and interventional (marginal) Shapley values affects whether feature correlations are preserved
  - Quick check question: What is the main advantage of using observational Shapley values over interventional ones?

## Architecture Onboarding

- Component map: Black-box survival model → median-SHAP explainer → clinical interpretation layer
- Critical path: Model prediction → reference population sampling → value function computation → median aggregation → feature attribution
- Design tradeoffs: Median vs mean estimator (robustness vs efficiency), observational vs interventional (correlation preservation vs independence), computational cost of Monte Carlo sampling
- Failure signatures: Biased attributions when reference population is unrepresentative, instability when sample size is small, misleading results when distribution assumptions violated
- First 3 experiments:
  1. Compare median-SHAP vs standard SHAP on synthetic right-skewed survival data
  2. Test robustness by adding outliers to the reference population
  3. Validate clinical interpretability with domain experts on real survival datasets

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How do median-SHAP explanations compare to SHAP explanations when distributions are not skewed (e.g., symmetric distributions)?
- Basis in paper: [explicit] The paper shows median-SHAP performs better when distributions are skewed, but does not test symmetric distributions.
- Why unresolved: The paper only tests median-SHAP on survival analysis datasets, which tend to have skewed distributions.
- What evidence would resolve it: Comparing median-SHAP and SHAP on datasets with symmetric distributions.

### Open Question 2
- Question: What is the computational cost of median-SHAP compared to standard SHAP, and how does it scale with sample size?
- Basis in paper: [inferred] The paper mentions median-SHAP uses Monte Carlo approximation, but does not discuss computational complexity.
- Why unresolved: The paper focuses on interpretability and robustness, not computational efficiency.
- What evidence would resolve it: Benchmarking median-SHAP against SHAP on datasets of varying sizes.

### Open Question 3
- Question: How does median-SHAP perform on non-survival applications where median predictions are not the primary focus?
- Basis in paper: [explicit] The paper specifically introduces median-SHAP for survival analysis models predicting median survival times.
- Why unresolved: The method is tailored to survival analysis, and its performance on other applications is unknown.
- What evidence would resolve it: Testing median-SHAP on non-survival datasets and comparing to SHAP.

## Limitations

- Lack of direct empirical validation comparing median-SHAP to standard SHAP on survival-specific metrics beyond alignment with classification models
- Claim that median anchoring provides superior clinical interpretability lacks direct clinician validation
- Computational overhead of median estimation in Monte Carlo sampling is not quantified

## Confidence

- Median vs mean robustness for skewed survival distributions: **High**
- Clinical interpretability improvements from median anchoring: **Medium**
- Preservation of feature correlations with observational Shapley values: **Medium**

## Next Checks

1. Conduct clinician studies to directly evaluate whether median-SHAP explanations are more interpretable than standard SHAP explanations in clinical scenarios
2. Test median-SHAP performance across varying levels of censoring (0-70%) and different survival distribution shapes (exponential, Weibull, log-normal) to establish robustness boundaries
3. Benchmark computational efficiency comparing median-SHAP to standard SHAP implementations, including sensitivity analysis of Monte Carlo sample size L on both accuracy and runtime