---
ver: rpa2
title: 'Don''t Mesh with Me: Generating Constructive Solid Geometry Instead of Meshes
  by Fine-Tuning a Code-Generation LLM'
arxiv_id: '2411.15279'
source_url: https://arxiv.org/abs/2411.15279
tags:
- geometry
- cells
- generation
- text
- input
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper addresses the challenge of generating precise 3D mechanical
  parts using AI, as current methods using meshes lack precision and adaptability.
  The authors propose a novel approach that leverages a code-generation LLM to generate
  Constructive Solid Geometry (CSG) from Boundary Representation geometry (BREP) converted
  into Python scripts.
---

# Don't Mesh with Me: Generating Constructive Solid Geometry Instead of Meshes by Fine-Tuning a Code-Generation LLM

## Quick Facts
- arXiv ID: 2411.15279
- Source URL: https://arxiv.org/abs/2411.15279
- Reference count: 40
- Primary result: Novel approach using code-generation LLM to create precise CSG representations from BREP geometry, demonstrating geometric understanding through text instruction completion

## Executive Summary
This paper addresses the limitations of current AI methods for generating 3D mechanical parts, which often rely on meshes that lack precision and adaptability. The authors propose a novel approach that uses a code-generation large language model to produce Constructive Solid Geometry (CSG) representations from Boundary Representation geometry (BREP) converted into Python scripts. By creating a dataset of 3D mechanical parts represented as code scripts and fine-tuning a code-generation LLM, the model can generate syntactically and mathematically correct 3D geometry and follow natural language instructions for basic geometric structures. This approach aims to provide more precise and adaptable 3D modeling compared to traditional mesh-based methods.

## Method Summary
The authors convert BREP geometry into Python scripts representing Constructive Solid Geometry (CSG) and create a dataset of 3D mechanical parts using this representation. They employ GPT-4 to add natural language annotations to the code scripts, enhancing the dataset with semantic information. A code-generation large language model is then fine-tuned on this annotated dataset. The resulting model can complete geometries based on positional input and natural language instructions, demonstrating an understanding of geometric concepts. The approach leverages the precision of CSG representations and the language understanding capabilities of LLMs to generate accurate 3D mechanical parts.

## Key Results
- The fine-tuned model generates syntactically and mathematically correct 3D geometry in most cases
- The model can follow text instructions to create basic geometric structures, demonstrating geometric understanding
- The CSG representation approach provides more precise and adaptable 3D modeling compared to traditional mesh-based methods

## Why This Works (Mechanism)
The approach works by leveraging the strengths of both CSG representations and large language models. CSG provides a precise, hierarchical representation of 3D geometry through Boolean operations on primitive shapes, while LLMs excel at understanding and generating code based on natural language instructions. By converting BREP geometry to Python scripts representing CSG and fine-tuning an LLM on this representation, the model learns to generate precise 3D geometries that can be easily modified through natural language commands. This combination allows for more accurate and flexible 3D modeling compared to traditional mesh-based approaches.

## Foundational Learning
- Constructive Solid Geometry (CSG): A modeling technique using Boolean operations on primitive shapes to create complex geometries. Why needed: Provides precise, hierarchical representation of 3D geometry. Quick check: Verify that generated CSG trees correctly represent the intended 3D shapes.
- Boundary Representation (BREP): A method representing 3D objects by their boundaries (faces, edges, vertices). Why needed: Provides a standard way to represent complex 3D geometries. Quick check: Ensure accurate conversion from BREP to CSG representation without loss of geometric information.
- Code-generation LLMs: Large language models trained to generate code from natural language descriptions or partial code inputs. Why needed: Enables generation of CSG representations from natural language instructions. Quick check: Test the model's ability to generate syntactically correct Python code for various geometric structures.

## Architecture Onboarding

Component Map:
BREP Geometry -> Python CSG Scripts -> GPT-4 Annotation -> Fine-tuned Code-generation LLM -> CSG Output

Critical Path:
The critical path involves converting BREP geometry to Python CSG scripts, annotating these scripts using GPT-4, and fine-tuning a code-generation LLM on the resulting dataset. The model's ability to generate accurate CSG representations from natural language instructions depends on the quality of this pipeline.

Design Tradeoffs:
- Precision vs. Flexibility: CSG provides precise representations but may be less flexible for complex geometries compared to meshes. The tradeoff is mitigated by using LLMs to generate and modify CSG representations based on natural language instructions.
- Dataset Size vs. Annotation Quality: Larger datasets may improve model performance but require more annotations. Using GPT-4 for annotation helps scale the process but may introduce variability in annotation quality.

Failure Signatures:
- Incorrect CSG tree structure leading to geometrically invalid outputs
- Misinterpretation of natural language instructions resulting in unexpected geometries
- Loss of precision during BREP to CSG conversion

Three First Experiments:
1. Test the model's ability to generate basic geometric shapes (cubes, spheres, cylinders) from natural language descriptions
2. Evaluate the precision of generated CSG representations by comparing them with ground truth BREP geometries
3. Assess the model's capability to modify existing geometries based on natural language instructions for shape transformations

## Open Questions the Paper Calls Out
None

## Limitations
- Scalability concerns for handling complex geometries beyond basic structures
- Potential brittleness of CSG representation when dealing with intricate mechanical parts
- Limited quantitative evaluation and comparison with existing mesh-based approaches

## Confidence
- Technical approach: Medium
- Practical applicability: Low
- Generalizability to complex geometries: Low

## Next Checks
1. Evaluate the model's performance on a larger and more diverse dataset of mechanical parts, including complex geometries with intricate features
2. Compare the generated CSG outputs with traditional mesh-based approaches in terms of precision, adaptability, and computational efficiency
3. Conduct a user study with mechanical engineers to assess the practical utility and ease of use of the CSG generation approach in real-world design scenarios