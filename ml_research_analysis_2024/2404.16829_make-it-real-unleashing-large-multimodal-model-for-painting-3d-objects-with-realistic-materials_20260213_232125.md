---
ver: rpa2
title: 'Make-it-Real: Unleashing Large Multimodal Model for Painting 3D Objects with
  Realistic Materials'
arxiv_id: '2404.16829'
source_url: https://arxiv.org/abs/2404.16829
tags:
- material
- metal
- materials
- maps
- texture
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces Make-it-Real, a novel approach that leverages
  multimodal large language models (MLLMs), specifically GPT-4V, to automatically
  assign realistic materials to 3D objects that only have albedo maps. The method
  builds a comprehensive material library with detailed annotations and uses hierarchical
  text prompts combined with visual cues to accurately identify and align materials
  with different parts of 3D objects.
---

# Make-it-Real: Unleashing Large Multimodal Model for Painting 3D Objects with Realistic Materials

## Quick Facts
- arXiv ID: 2404.16829
- Source URL: https://arxiv.org/abs/2404.16829
- Reference count: 40
- Primary result: First method using multimodal LLMs to automatically assign realistic materials to 3D objects with only albedo maps

## Executive Summary
Make-it-Real introduces a novel approach that leverages multimodal large language models, specifically GPT-4V, to automatically assign realistic materials to 3D objects that only have albedo maps. The method builds a comprehensive material library with detailed annotations and uses hierarchical text prompts combined with visual cues to accurately identify and align materials with different parts of 3D objects. The correctly matched materials are then used as references to generate new SVBRDF material maps according to the original albedo map, significantly enhancing visual authenticity. Make-it-Real demonstrates superior performance in refining both existing 3D assets and objects generated by state-of-the-art 3D generation methods, offering a streamlined integration into the 3D content creation workflow and showcasing its utility as an essential tool for developers of 3D assets.

## Method Summary
The approach involves rendering 3D meshes from multiple viewpoints to obtain albedo images, using semantic segmentation to identify material regions, querying GPT-4V with hierarchical text prompts to match materials from a detailed material library to the segmented regions, and generating SVBRDF maps by referencing the original albedo map and applying a KD-Tree algorithm for efficient pixel-level material assignment. This process ensures that areas with similar colors exhibit similar BRDF values, avoiding abrupt changes in material properties while maintaining texture consistency.

## Key Results
- Make-it-Real significantly enhances the visual authenticity of 3D objects by generating physically-based rendering (PBR) maps
- The method demonstrates superior performance in refining both existing 3D assets and objects generated by state-of-the-art 3D generation methods
- GPT-4V's powerful visual understanding capabilities enable accurate material recognition and matching, outperforming traditional approaches

## Why This Works (Mechanism)

### Mechanism 1
- Claim: GPT-4V can accurately recognize and describe materials from 2D rendered images of 3D objects with albedo maps.
- Mechanism: The model leverages its pre-trained visual understanding capabilities and extensive prior knowledge to interpret texture patterns, colors, and contextual cues in rendered images, mapping them to known material properties.
- Core assumption: GPT-4V's training data includes sufficient exposure to diverse materials and textures that it can generalize to novel 3D object appearances.
- Evidence anchors:
  - [abstract]: "We demonstrate that GPT-4V can effectively recognize and describe materials."
  - [section]: "These models have powerful visual understanding and recognition capabilities, along with a vast repository of prior knowledge, which covers the task of material estimation."
  - [corpus]: Weak - corpus contains related work on material assignment but no direct evaluation of GPT-4V's material recognition accuracy.
- Break condition: If the 3D object contains materials not well-represented in GPT-4V's training data or the albedo map is severely distorted, recognition accuracy will degrade.

### Mechanism 2
- Claim: Hierarchical text prompting enables efficient and accurate material retrieval from a large library.
- Mechanism: The approach first identifies broad material categories, then progressively narrows down to specific subtypes using filtered queries, reducing cognitive load and improving precision.
- Core assumption: Breaking down the retrieval process into hierarchical steps allows GPT-4V to maintain focus and leverage contextual information more effectively than monolithic queries.
- Evidence anchors:
  - [section]: "Due to the vast size of our material library, feeding all prompts to GPT-4V simultaneously proves inefficient... We adopt a hierarchical text prompting approach."
  - [section]: "This hierarchical processing enables a more granular search of our material library, identifying the optimal description for each material segment."
  - [corpus]: Weak - corpus includes related work on material assignment but no direct comparison of hierarchical vs. non-hierarchical prompting strategies.
- Break condition: If the hierarchy levels are not well-defined or the material library organization doesn't align with how GPT-4V categorizes materials, the approach may fail.

### Mechanism 3
- Claim: Albedo-referenced pixel-level estimation maintains texture consistency while applying material properties.
- Mechanism: By using KD-Tree algorithm to find nearest neighbor pixels between query albedo and material albedo, the method ensures similar colors receive similar BRDF values while preserving albedo map characteristics.
- Core assumption: Material properties correlate with albedo color in predictable ways that can be captured through nearest-neighbor mapping.
- Evidence anchors:
  - [section]: "We enhance the querying process using a KD-Tree algorithm, which searches for the nearest neighbor pixel index in the key albedo... for each RGB value of the queried albedo pixel."
  - [section]: "This process ensures that areas with similar colors exhibit similar BRDF values, avoiding abrupt changes in material properties."
  - [corpus]: Weak - corpus contains related work on material generation but no direct evaluation of albedo-referenced KD-Tree approach.
- Break condition: If the material library lacks sufficient albedo diversity or the KD-Tree search space is too constrained, the mapping may produce unrealistic results.

## Foundational Learning

- Concept: Physically Based Rendering (PBR) material maps
  - Why needed here: The entire pipeline generates PBR-compliant maps (albedo, roughness, metallic, normal, specular, height, displacement) that must integrate with standard rendering engines.
  - Quick check question: What are the seven standard PBR material maps and what physical property does each represent?

- Concept: 2D-3D alignment techniques (rasterization, UV mapping, back-projection)
  - Why needed here: The segmentation and material application processes require transferring information between 2D rendered images and 3D mesh UV space.
  - Quick check question: How does rasterization convert 3D mesh coordinates to 2D screen coordinates, and why is UV unwrapping necessary for texture mapping?

- Concept: Multimodal Large Language Models (MLLMs) capabilities
  - Why needed here: GPT-4V's ability to process both visual and textual information is fundamental to the material recognition and retrieval pipeline.
  - Quick check question: What distinguishes MLLMs from traditional computer vision models in terms of their ability to handle material recognition tasks?

## Architecture Onboarding

- Component map: 3D mesh with albedo map -> Rendering Engine -> Segmentation Module -> Mask Refinement -> Material Library -> MLLM Interface -> KD-Tree Estimator -> Complete PBR material maps

- Critical path:
  1. Render object from multiple viewpoints
  2. Segment and refine material regions
  3. Query GPT-4V for material matches using hierarchical prompts
  4. Apply KD-Tree based albedo-referenced estimation
  5. Generate complete PBR maps
  6. Validate through rendering

- Design tradeoffs:
  - Accuracy vs. speed: GPT-4V queries are computationally expensive but provide high accuracy
  - Material library size vs. query efficiency: Larger libraries provide more options but require hierarchical prompting
  - Albedo consistency vs. material fidelity: KD-Tree approach preserves albedo but may limit material variety

- Failure signatures:
  - Incorrect material assignment: Often caused by poor segmentation or insufficient material library coverage
  - Texture artifacts: Usually result from KD-Tree mismatches or incomplete UV space coverage
  - Missing regions: Indicates back-projection or mask refinement failures

- First 3 experiments:
  1. Test segmentation pipeline on simple geometric shapes with known material boundaries
  2. Validate GPT-4V material recognition on isolated material ball images before applying to complex objects
  3. Verify KD-Tree albedo mapping on synthetic data where ground truth material properties are known

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How can the proposed method be extended to handle reverse transformation from shaded texture maps to albedo maps for generated 3D objects?
- Basis in paper: [inferred] The paper mentions that the current method does not support reverse transform from shaded texture map to albedo map for generated 3D objects, causing problems in assigning materials to dark shadow and highlight areas.
- Why unresolved: This is a technical limitation that requires further research and development to address the challenges of separating shading information from the original texture maps.
- What evidence would resolve it: Demonstrating a working prototype that can accurately convert shaded texture maps to albedo maps while preserving the original material properties would resolve this question.

### Open Question 2
- Question: How can the material segmentation algorithm be improved to handle more complex and diverse 3D objects?
- Basis in paper: [inferred] The paper acknowledges limited progress in material segmentation in 2D and 3D domains and suggests that the current material segmentation algorithm can serve as a useful baseline for future work.
- Why unresolved: Improving material segmentation for complex and diverse 3D objects requires advancements in machine learning techniques and potentially new approaches to handle the increased complexity and variability of materials and object geometries.
- What evidence would resolve it: Developing and validating a more robust material segmentation algorithm that can accurately segment materials in a wide range of complex 3D objects would resolve this question.

### Open Question 3
- Question: How can user-friendly control be integrated into the fully-automatic pipeline to allow for more customization and fine-tuning of material assignments?
- Basis in paper: [inferred] The paper mentions exploring the integration of the pipeline with 3D segmentation networks and considering methods for adding user-friendly control into the fully-automatic pipeline for future work.
- Why unresolved: Integrating user-friendly control into the pipeline requires designing intuitive interfaces and mechanisms for users to interact with and modify the material assignments generated by the system, which is a complex challenge in human-computer interaction and user experience design.
- What evidence would resolve it: Creating a user-friendly interface or tool that allows users to easily customize and fine-tune the material assignments generated by the system, along with user studies demonstrating the effectiveness and usability of the interface, would resolve this question.

## Limitations
- Dependence on GPT-4V API access and internet connectivity limits offline workflow integration
- Material library coverage may be insufficient for specialized or culturally-specific materials
- Segmentation quality directly impacts material assignment accuracy but lacks comprehensive failure analysis

## Confidence
- **High Confidence**: GPT-4V can recognize materials from 2D rendered images, hierarchical prompting improves query efficiency, KD-Tree based albedo mapping preserves texture consistency
- **Medium Confidence**: The overall pipeline produces visually authentic results, Make-it-Real outperforms existing methods, the approach generalizes across diverse 3D objects
- **Low Confidence**: Real-world applicability for professional 3D asset creation, scalability to production-level asset libraries, robustness to diverse 3D object complexities

## Next Checks
1. **Stress Test Segmentation Pipeline**: Apply the method to complex 3D geometries with intricate material boundaries (e.g., vehicles with mixed materials, organic objects with subtle texture variations) and measure segmentation accuracy against ground truth material annotations.

2. **Material Library Coverage Analysis**: Systematically evaluate the material library's coverage across different object categories and cultural contexts, identifying gaps and quantifying the impact on material assignment accuracy for underrepresented material types.

3. **Cost-Benefit Analysis at Scale**: Measure the total cost and processing time required to process 100+ diverse 3D assets, comparing the approach's economics against traditional manual material assignment workflows to assess viability for commercial production.