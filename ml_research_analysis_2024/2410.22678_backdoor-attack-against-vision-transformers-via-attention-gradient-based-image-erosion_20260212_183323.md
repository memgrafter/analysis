---
ver: rpa2
title: Backdoor Attack Against Vision Transformers via Attention Gradient-Based Image
  Erosion
arxiv_id: '2410.22678'
source_url: https://arxiv.org/abs/2410.22678
tags:
- backdoor
- vits
- images
- attention
- attack
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper introduces AGEB, a backdoor attack targeting Vision
  Transformers (ViTs) that leverages attention gradients to selectively erode pixels,
  embedding an invisible trigger. Unlike existing methods, AGEB balances attack stealthiness
  and effectiveness by using a global trigger rather than localized patches, ensuring
  minimal visual discrepancies.
---

# Backdoor Attack Against Vision Transformers via Attention Gradient-Based Image Erosion

## Quick Facts
- arXiv ID: 2410.22678
- Source URL: https://arxiv.org/abs/2410.22678
- Reference count: 23
- Primary result: AGEB achieves 99.85% ASR and 98.63% CDA on CIFAR-10 with ViT-b, outperforming prior ViT backdoor attacks

## Executive Summary
This paper introduces AGEB, a novel backdoor attack targeting Vision Transformers (ViTs) that leverages attention gradients to selectively erode pixels, embedding an invisible trigger. Unlike existing methods that use localized patch-wise triggers, AGEB employs a global trigger mechanism that ensures minimal visual discrepancies while maintaining high attack effectiveness. The approach achieves state-of-the-art performance on multiple datasets, demonstrating both stealthiness and effectiveness.

## Method Summary
AGEB implements a backdoor attack on Vision Transformers by computing gradients of the last attention layer to identify pixels that the ViT focuses on most strongly. These high-attention pixels are selectively eroded using morphological operations, then blended with the original image at a specific ratio with a small constant signal added to ensure trigger effectiveness. The method employs global triggers rather than localized patches, making it less susceptible to defense strategies targeting specific areas. Brightness and saturation adjustments are applied to minimize visual discrepancies between clean and triggered images.

## Key Results
- Achieves 99.85% Attack Success Rate (ASR) on CIFAR-10 dataset with ViT-b architecture
- Maintains 98.63% Clean Data Accuracy (CDA) while embedding backdoor triggers
- Outperforms prior ViT backdoor attacks in both stealthiness and effectiveness

## Why This Works (Mechanism)

### Mechanism 1
- Claim: Eroding pixels with the highest attention gradient effectively embeds an invisible trigger
- Mechanism: The method computes gradients of the last attention layer to identify pixels that the ViT focuses on most strongly. These pixels are then selectively eroded, embedding a backdoor trigger that modifies the image in perceptually subtle areas
- Core assumption: Attention gradients in pre-trained ViTs are consistent across different models for the same image
- Evidence anchors: Abstract states "AGEB selectively erodes pixels in areas of maximal attention gradient"; section explains "To determine the pixels subject to erosion, we analyze the gradient of the last attention layer"

### Mechanism 2
- Claim: Blending eroded images with the original image at a specific ratio preserves Clean Data Accuracy while maintaining trigger effectiveness
- Mechanism: After erosion, the method blends the eroded image with the original at a ratio Î±, adding a small constant signal to ensure the eroded areas remain effective for the model to learn the trigger
- Core assumption: The blending process retains enough semantic information for clean data accuracy while sufficiently altering the image to embed the trigger
- Evidence anchors: Abstract mentions "Utilizing a morphological erosion process, AGEB ensures that the alterations remain imperceptible"; section describes "We implement a post-erosion blending strategy to enhance the CDA and ASR"

### Mechanism 3
- Claim: Using a global trigger instead of localized patches improves stealthiness and generalization across ViT architectures
- Mechanism: Unlike patch-wise triggers, AGEB applies erosion across the entire image based on attention gradients, making the trigger less susceptible to defense strategies that target specific patches
- Core assumption: Global triggers are harder to detect and defend against compared to localized patches
- Evidence anchors: Abstract notes "Unlike previous backdoor attacks against ViTs, AGEB achieves an optimal balance between attack stealthiness and attack effectiveness"; section explains "AGEB addresses the limitations associated with localized, patch-wise triggers by adopting a global trigger mechanism"

## Foundational Learning

- Concept: Attention mechanisms in Vision Transformers
  - Why needed here: Understanding how ViTs use attention to process images is crucial for grasping why eroding high-attention pixels can embed a trigger
  - Quick check question: How do attention mechanisms in ViTs differ from convolutional layers in CNNs in terms of feature extraction?

- Concept: Image erosion in morphological operations
  - Why needed here: The method uses erosion to modify pixel values; understanding this operation is key to comprehending the trigger embedding process
  - Quick check question: What is the effect of image erosion on pixel values, and how does it differ from dilation?

- Concept: Backdoor attacks in machine learning
  - Why needed here: Knowing the fundamentals of backdoor attacks helps in understanding the threat model and the goals of AGEB
  - Quick check question: What are the main objectives of a backdoor attack, and how do they balance stealthiness and effectiveness?

## Architecture Onboarding

- Component map: Attention Gradient Computation -> Erosion Module -> Blending Unit -> Signal Addition -> Stealth Adjustment
- Critical path: 1) Compute attention gradients; 2) Select pixels above threshold for erosion; 3) Apply erosion to selected pixels; 4) Blend eroded image with original image; 5) Add constant signal; 6) Adjust brightness and saturation
- Design tradeoffs: Stealth vs. Effectiveness (higher erosion may increase trigger effectiveness but reduce stealthiness); Global vs. Local Triggers (global triggers are stealthier but may be less effective); Blending Ratio (higher ratios preserve more original data but may reduce trigger effectiveness)
- Failure signatures: Low ASR (indicates the trigger is not effectively embedded); Low CDA (suggests excessive modification of clean data); Visible Trigger (implies the erosion process is too aggressive or the blending ratio is inappropriate)
- First 3 experiments: 1) Vary the gradient threshold to observe its effect on ASR and CDA; 2) Test different blending ratios to balance stealthiness and effectiveness; 3) Compare global triggers with localized patches to evaluate generalization across ViT architectures

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How does the attention gradient-based erosion approach compare to other backdoor attack strategies in terms of detection resistance by defense mechanisms?
- Basis in paper: [explicit] The paper emphasizes the stealthiness of AGEB, noting minimal visual discrepancies between clean and triggered images, and compares its stealthiness to other backdoor attacks
- Why unresolved: While the paper claims AGEB's superior stealthiness, it does not provide a comprehensive analysis of how well it resists specific detection techniques or benchmarks against a wider array of defense mechanisms
- What evidence would resolve it: Conducting experiments that test AGEB against various state-of-the-art defense mechanisms would provide empirical data on its robustness and detection resistance compared to other backdoor attack strategies

### Open Question 2
- Question: Can the attention gradient-based erosion method be adapted for use with convolutional neural networks (CNNs) or other non-Transformer architectures?
- Basis in paper: [inferred] The paper suggests the potential for exploring AGEB's applicability to other models, including CNNs, as indicated in the conclusion
- Why unresolved: The paper primarily focuses on ViTs and does not explore the adaptability or effectiveness of AGEB when applied to different neural network architectures
- What evidence would resolve it: Implementing and testing AGEB on CNNs and other architectures, then comparing its effectiveness and stealthiness, would determine its adaptability and performance across different models

### Open Question 3
- Question: What is the impact of varying the size and shape of the structuring element in the erosion process on the effectiveness and stealthiness of the backdoor attack?
- Basis in paper: [explicit] The methodology section describes the use of morphological erosion with a structuring element, but does not explore how different sizes or shapes affect the attack's outcomes
- Why unresolved: The paper does not provide a detailed analysis of how different structuring elements influence the balance between attack effectiveness and visual stealthiness
- What evidence would resolve it: Conducting a series of experiments with varying structuring element parameters would reveal how these changes impact the attack's success rate and perceptibility, providing insights into optimal configurations for different scenarios

## Limitations
- The method relies on attention gradient consistency across different ViT models and training runs, which may not hold in practice
- Exact implementation details of attention gradient computation and thresholding remain unspecified
- The method's performance against advanced defense mechanisms targeting global triggers is unexplored

## Confidence
- High Confidence: Experimental results demonstrating high ASR (99.85%) and maintained CDA (98.63%) on CIFAR-10 with ViT-b
- Medium Confidence: Superiority of attention gradient-based erosion over random pixel selection supported by ablation studies
- Low Confidence: Claim that global triggers are harder to detect than localized patches lacks direct empirical support

## Next Checks
1. Validate that attention gradients remain consistent across different ViT models and training runs for the same image
2. Test the method's effectiveness against advanced backdoor defense strategies, particularly those targeting global triggers
3. Conduct experiments varying the blending ratio, gradient threshold, and erosion parameters to determine their impact on the balance between stealthiness and attack effectiveness