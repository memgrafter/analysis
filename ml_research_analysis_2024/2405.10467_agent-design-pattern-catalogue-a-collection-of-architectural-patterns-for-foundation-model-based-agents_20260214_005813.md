---
ver: rpa2
title: 'Agent Design Pattern Catalogue: A Collection of Architectural Patterns for
  Foundation Model based Agents'
arxiv_id: '2405.10467'
source_url: https://arxiv.org/abs/2405.10467
tags:
- agent
- agents
- users
- plan
- foundation
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: This paper presents a pattern catalogue of 18 architectural patterns
  for designing foundation model-based agents. The authors conducted a systematic
  literature review to identify challenges in agent design, such as hallucinations,
  explainability, and accountability.
---

# Agent Design Pattern Catalogue: A Collection of Architectural Patterns for Foundation Model based Agents

## Quick Facts
- arXiv ID: 2405.10467
- Source URL: https://arxiv.org/abs/2405.10467
- Authors: Yue Liu; Sin Kit Lo; Qinghua Lu; Liming Zhu; Dehai Zhao; Xiwei Xu; Stefan Harrer; Jon Whittle
- Reference count: 40
- Primary result: Presents 18 architectural patterns for foundation model-based agents addressing challenges like hallucinations, explainability, and accountability

## Executive Summary
This paper presents a comprehensive pattern catalogue of 18 architectural patterns for designing foundation model-based agents. The authors conducted a systematic literature review to identify key challenges in agent design and developed patterns to address goal-seeking, plan generation, and collaboration among multiple agents. The catalogue includes a decision model to help architects select appropriate patterns based on their specific requirements and application context.

## Method Summary
The authors conducted a systematic literature review to identify architectural patterns for foundation model-based agents. They analyzed challenges such as hallucinations, explainability, and accountability to develop 18 distinct patterns. The methodology involved documenting each pattern's context, forces, trade-offs, and known uses, then creating a decision model to guide practitioners in selecting appropriate patterns for their specific design problems.

## Key Results
- 18 architectural patterns identified covering goal creation, plan generation, reflection, cooperation, and safety
- Decision model provides structured guidance for pattern selection based on design requirements
- Real-world examples demonstrate application in projects like HuggingGPT and AutoGPT
- Patterns address critical challenges including hallucinations, explainability, and accountability

## Why This Works (Mechanism)

### Mechanism 1
- Claim: The pattern catalogue reduces design uncertainty by mapping architectural forces to reusable solutions
- Mechanism: Systematic literature review identified 18 patterns that address specific challenges like hallucinations, explainability, and accountability. Each pattern includes context, forces, trade-offs, and known uses, allowing architects to select appropriate solutions based on their requirements
- Core assumption: The identified patterns comprehensively cover the major architectural challenges in FM-based agent design
- Evidence anchors:
  - [abstract] "present a pattern catalogue consisting of 18 architectural patterns with analyses of the context, forces, and trade-offs"
  - [section] "The pattern catalogue includes 18 patterns that were identified based on the study conducted by Lu et al. [5]"
- Break condition: If new architectural challenges emerge that are not addressed by existing patterns, or if patterns prove ineffective in real-world implementations

### Mechanism 2
- Claim: The decision model provides structured guidance for pattern selection, reducing analysis paralysis
- Mechanism: The decision model visualizes the selection process through a flowchart that maps design problems to alternative patterns and their trade-offs. This helps practitioners navigate the pattern space efficiently
- Core assumption: The decision model accurately represents the relationships between design problems and pattern solutions
- Evidence anchors:
  - [section] "Fig. 19 illustrates a decision model which visualises the selection process of different patterns for practitioners"
  - [section] "for a design problem, each decision can map to the corresponding solution space, which is regarded as the alternative pattern(s)"
- Break condition: If the decision model becomes too complex to navigate or fails to capture nuanced trade-offs between patterns

### Mechanism 3
- Claim: Pattern complementarity enables holistic agent architecture design
- Mechanism: The patterns are designed to work together, with each pattern addressing specific concerns while complementing others. For example, guardrails work with all other patterns by providing an intermediate layer between foundation models and other components
- Core assumption: The patterns are sufficiently modular and interoperable to be combined effectively
- Evidence anchors:
  - [section] "Retrieval augmented generation can complement all other patterns by providing extra context information from the local datastore"
  - [section] "Integrating different patterns can help structure and develop comprehensive and trustworthy agents"
- Break condition: If combining patterns creates conflicts or unexpected interactions that degrade system performance

## Foundational Learning

- Concept: Architectural patterns and their application in software design
  - Why needed here: The paper presents a catalogue of architectural patterns specifically for FM-based agents, so understanding what architectural patterns are and how they work is fundamental
  - Quick check question: What distinguishes an architectural pattern from other types of design solutions?

- Concept: Foundation models and their capabilities/limitations
  - Why needed here: The patterns are designed to address specific challenges related to foundation models, such as hallucinations and explainability issues
  - Quick check question: What are the main limitations of foundation models that architectural patterns need to address?

- Concept: Multi-agent systems and coordination mechanisms
  - Why needed here: Several patterns deal with cooperation between multiple agents (voting-based, role-based, debate-based), so understanding how agents coordinate is essential
  - Quick check question: How do different coordination mechanisms (voting, roles, debate) affect agent system behavior?

## Architecture Onboarding

- Component map:
  User interface (dialogue interfaces, detectors) → Goal processing (passive/proactive goal creators, prompt/response optimizers) → Planning (single/multi-path plan generators, model querying) → Reflection (self/cross/human reflection) → Cooperation (voting-based, role-based, debate-based) → Safety (multimodal guardrails) → Registry (tool/agent registry) → Adapter (agent adapter) → Evaluation (agent evaluator)

- Critical path: User input → Goal creation → Plan generation → Task execution → Reflection/evaluation
- Design tradeoffs: Efficiency vs explainability, simplicity vs flexibility, cost vs capability, centralization vs decentralization
- Failure signatures: Hallucinations in outputs, poor explainability, accountability gaps, coordination failures between agents
- First 3 experiments:
  1. Implement passive goal creator with dialogue interface to understand basic user-agent interaction
  2. Add single-path plan generator with one-shot model querying to test basic planning capabilities
  3. Implement multimodal guardrails to test input/output safety mechanisms

## Open Questions the Paper Calls Out

### Open Question 1
- Question: How can the effectiveness of the proposed architectural patterns be quantitatively measured and validated across diverse real-world applications?
- Basis in paper: [inferred] The paper discusses the importance of agent evaluation but does not provide specific quantitative metrics for validating pattern effectiveness
- Why unresolved: The paper emphasizes the need for evaluation but lacks concrete methodologies for measuring pattern impact on software quality attributes
- What evidence would resolve it: Case studies demonstrating measurable improvements in agent performance, reliability, or efficiency when specific patterns are applied

### Open Question 2
- Question: What are the optimal strategies for integrating multiple architectural patterns without introducing conflicts or diminishing returns in agent performance?
- Basis in paper: [explicit] The paper mentions that patterns can be applied together but does not address potential conflicts or optimization strategies
- Why unresolved: While the decision model provides a framework for pattern selection, it doesn't address how to balance or combine patterns effectively
- What evidence would resolve it: Empirical studies showing performance outcomes of different pattern combinations in various agent scenarios

### Open Question 3
- Question: How can the proposed patterns be adapted to ensure compliance with emerging AI regulations and ethical standards across different jurisdictions?
- Basis in paper: [inferred] The paper briefly mentions compliance with regulations but doesn't provide specific guidance on pattern adaptation for regulatory requirements
- Why unresolved: The rapid evolution of AI regulations requires ongoing adaptation of architectural patterns, which is not addressed in the current framework
- What evidence would resolve it: A comprehensive mapping of patterns to specific regulatory requirements and case studies of successful compliance implementations

## Limitations
- Limited validation of pattern effectiveness in real-world implementations
- Potential gaps in addressing emerging architectural challenges as FM technology evolves
- Decision model complexity may hinder practical application in some scenarios

## Confidence
- Pattern effectiveness: Medium - systematic literature review provides strong foundation, but real-world validation needed
- Decision model utility: Medium - structured approach but untested in complex scenarios
- Individual pattern descriptions: High - well-grounded in established literature with concrete examples

## Next Checks
1. **Pattern Integration Testing**: Implement a multi-agent system combining at least five different patterns (e.g., voting-based cooperation, self-reflection, and multimodal guardrails) to assess interoperability and identify unexpected interactions.

2. **Decision Model Validation**: Apply the decision model to three distinct agent design scenarios with varying complexity requirements, documenting the selection process and evaluating whether the recommended patterns effectively address the stated design goals.

3. **Emerging Challenge Assessment**: Review recent literature (post-2023) to identify new architectural challenges in FM-based agents that may not be addressed by the current 18 patterns, and evaluate whether the catalogue framework can accommodate these emerging needs.