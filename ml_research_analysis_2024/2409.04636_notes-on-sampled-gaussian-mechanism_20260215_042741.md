---
ver: rpa2
title: Notes on Sampled Gaussian Mechanism
arxiv_id: '2409.04636'
source_url: https://arxiv.org/abs/2409.04636
tags:
- subsampling
- function
- gaussian
- conjecture
- proof
- transformers
- self-attention
- retrieval-augmented-generation
- instruction-tuning
- parameter-efficient-finetuning
- mixture-of-experts
- chain-of-thought
core_contribution: "This note proves Conjecture 6.3 from R\xC3\xA4is\xC3\xA4 et al.\
  \ (2024) regarding the Sampled Gaussian Mechanism."
---

# Notes on Sampled Gaussian Mechanism

## Quick Facts
- **arXiv ID:** 2409.04636
- **Source URL:** https://arxiv.org/abs/2409.04636
- **Reference count:** 1
- **Key outcome:** This note proves Conjecture 6.3 from Räisä et al. (2024) regarding the Sampled Gaussian Mechanism. The conjecture states that for the effective noise level σeff = σ(q)/q, the quantity a - b < 0 where a = 1/(2√(2σ(q))) and b = σ(q)√(2log((e^ε - 1 + q)/q)). The proof establishes that Ψ_ε,q(σ) is a strictly decreasing function of σ, and then shows that for ε, q ≥ 4δ, the inequality a - b < 0 holds. The key technical result is Lemma 2, which proves that Φ(-z) < e^(-z²/2)(1/2 - min(e^(z²/2) - 1, 1)/4) for z > 0, where Φ is the standard normal CDF. The authors note that the constant 4 in the conjecture can be improved to approximately 3.8319.

## Executive Summary
This note provides a rigorous proof of Conjecture 6.3 from Räisä et al. (2024) concerning the Sampled Gaussian Mechanism in differential privacy. The conjecture relates to the effective noise level σeff = σ(q)/q and establishes that this quantity decreases as the subsampling rate q increases. The proof relies on two main components: showing that the function Ψ_ε,q(σ) is strictly decreasing with respect to σ, and proving an auxiliary lemma about bounds on the standard normal CDF. The technical core involves demonstrating that Φ(-z) < e^(-z²/2)(1/2 - min(e^(z²/2) - 1, 1)/4) for all z > 0. The authors also identify that the constant 4 in the conjecture can be improved to approximately 3.8319, making the bound tighter.

## Method Summary
The proof follows a structured approach involving three main components. First, it establishes the monotonicity of Ψ_ε,q(σ) with respect to σ through derivative analysis. Second, it transforms the conjecture inequality a - b < 0 into a form that can be evaluated using the inverse function Ψ^(-1)_ε,q. Third, it proves an auxiliary lemma (Lemma 2) that provides a tight bound on the standard normal CDF Φ(-z) for z > 0. The proof shows that under the condition ε, q ≥ 4δ, the inequality a - b < 0 holds, which implies that the effective noise level σeff decreases as q increases. The key technical result is the bound Φ(-z) < e^(-z²/2)(1/2 - min(e^(z²/2) - 1, 1)/4) for z > 0, which is established through analysis of the difference function T(z).

## Key Results
- Proves Conjecture 6.3 from Räisä et al. (2024) regarding the Sampled Gaussian Mechanism
- Establishes that Ψ_ε,q(σ) is a strictly decreasing function of σ
- Proves the inequality a - b < 0 holds for ε, q ≥ 4δ, where a = 1/(2√(2σ(q))) and b = σ(q)√(2log((e^ε - 1 + q)/q))
- Shows that the effective noise level σeff = σ(q)/q decreases as subsampling rate q increases
- Proves Lemma 2: Φ(-z) < e^(-z²/2)(1/2 - min(e^(z²/2) - 1, 1)/4) for z > 0
- Identifies that the constant 4 in the conjecture can be improved to approximately 3.8319

## Why This Works (Mechanism)

### Mechanism 1
- Claim: The Sampled Gaussian Mechanism's effective noise level σeff = σ(q)/q decreases as subsampling rate q increases, making larger subsampling rates preferable for privacy-utility tradeoffs.
- Mechanism: The proof establishes that Ψ_ε,q(σ) is a strictly decreasing function of σ. When combined with the condition that min(e^ε - 1, q) ≥ 4δ, this guarantees that the inequality a - b < 0 holds, which mathematically proves that σeff decreases with increasing q.
- Core assumption: The function Ψ_ε,q(σ) is strictly decreasing with respect to σ for all ε > 0 and q ∈ (0, 1], and the auxiliary lemma about Φ(-z) provides the necessary bound to establish the conjecture conditions.
- Evidence anchors:
  - [abstract] "Theorem 6.2 of the paper asserts that for the Sampled Gaussian Mechanism... the effective noise level, σeff = σ(q)/q, decreases as a function of the subsampling rate q."
  - [section] "First, we prove that Ψ_ε,q(σ) is a decreasing function of σ. Lemma 1 (Monotonicity of Ψ)."
  - [corpus] Weak - only 0 citations found, but the paper directly addresses the conjecture from the referenced work.
- Break condition: If the monotonicity of Ψ_ε,q(σ) fails for some ε, q values, or if the bound in Lemma 2 doesn't hold, the proof would break down.

### Mechanism 2
- Claim: The conjecture a - b < 0 is equivalent to σ(q) > 1/√(2 log(h(q)/q)), which when proven ensures the effective noise decreases with q.
- Mechanism: By proving that the inverse function Ψ_ε,q^(-1)(min(e^ε - 1, q)/4) > 1/√(2 log(h(q)/q)), the authors establish the required inequality through the monotonicity of Ψ.
- Core assumption: The relationship between δ and σ(q) through Ψ_ε,q allows the conjecture conditions to be transformed into a form where the auxiliary lemma can be applied.
- Evidence anchors:
  - [section] "Our goal is to prove that a - b < 0, which is equivalent to: σ(q)√(2 log(h(q)/q)) > 1/(2√(2σ(q)))"
  - [section] "Since Ψ is a decreasing function, we have: min(e^ε - 1, q)/4 < Ψ_ε,q(1/√(2 log(h(q)/q)))"
  - [corpus] Weak - no direct supporting citations, but the mathematical transformation is internally consistent.
- Break condition: If the transformation between the conjecture inequality and the Ψ function evaluation is incorrect, or if the bound min(e^ε - 1, q)/4 doesn't provide sufficient slack.

### Mechanism 3
- Claim: The auxiliary lemma about Φ(-z) provides the technical foundation that ensures the conjecture holds for ε, q ≥ 4δ.
- Mechanism: Lemma 2 proves that Φ(-z) < e^(-z²/2)(1/2 - min(e^(z²/2) - 1, 1)/4) for z > 0, which directly establishes the inequality needed to prove the conjecture under the given conditions.
- Core assumption: The bound on Φ(-z) is tight enough to ensure the conjecture holds when ε, q ≥ 4δ, and the function T(z) analysis correctly establishes this bound.
- Evidence anchors:
  - [section] "Lemma 2. Φ(-z) < e^(-z²/2)(1/2 - min(e^(z²/2) - 1, 1)/4), for z > 0."
  - [section] "Therefore, T(z) < 0 for all z > 0, concluding the proof."
  - [corpus] Weak - no citations, but the proof is self-contained and uses standard properties of the normal distribution.
- Break condition: If the analysis of T(z) is incorrect, or if the bound in Lemma 2 fails for some z > 0 values within the relevant range.

## Foundational Learning

- Concept: Differential Privacy and Gaussian Mechanism
  - Why needed here: The entire paper builds on understanding how the Gaussian mechanism works under differential privacy constraints and how subsampling affects the privacy guarantees.
  - Quick check question: What is the relationship between Gaussian noise scale σ and the privacy parameters (ε, δ) in the standard Gaussian mechanism?

- Concept: Subsampling and Poisson Subsampling
  - Why needed here: The Sampled Gaussian Mechanism specifically uses subsampling (each data point selected independently with probability q), which is crucial for understanding the amplification effect on privacy.
  - Quick check question: How does the subsampling rate q affect the variance of the subsampling process and the privacy amplification?

- Concept: Monotonicity and Inverse Functions
  - Why needed here: The proof crucially relies on showing Ψ_ε,q(σ) is strictly decreasing and using this property to establish bounds through the inverse function.
  - Quick check question: If f(x) is strictly decreasing and invertible, what can you say about the relationship between f(a) < f(b) and a > b?

## Architecture Onboarding

- Component map: Lemma 1 (Monotonicity of Ψ) -> Conjecture transformation -> Lemma 2 (Auxiliary bound on Φ(-z)) -> Final proof
- Critical path: The proof flows from establishing Ψ_ε,q monotonicity → transforming the conjecture condition → applying Lemma 2 to establish the final bound → concluding the conjecture holds.
- Design tradeoffs: The proof uses a weaker condition (min(e^ε - 1, q) ≥ 4δ) rather than the stated (ε, q ≥ 4δ), providing more flexibility but requiring careful tracking of the implications.
- Failure signatures: If the conjecture fails for some (ε, q, δ) values, likely failure points would be in the monotonicity proof, the transformation step, or the auxiliary lemma bound.
- First 3 experiments:
  1. Verify the monotonicity of Ψ_ε,q(σ) numerically for various ε, q values to ensure the derivative is always negative.
  2. Test the auxiliary lemma bound Φ(-z) < e^(-z²/2)(1/2 - min(e^(z²/2) - 1, 1)/4) across a range of z values, especially near the critical points identified in the proof.
  3. Construct counterexamples near the boundary conditions (ε, q ≈ 4δ) to verify the conjecture holds and understand where the bound becomes tight.

## Open Questions the Paper Calls Out

### Open Question 1
- Question: What is the optimal constant that can replace 4 in the conjecture a - b < 0, and how does this affect the practical implementation of the Sampled Gaussian Mechanism?
- Basis in paper: [explicit] The authors note that the constant 4 in the conjecture can be improved to approximately 3.8319, and that this bound is tight.
- Why unresolved: While the authors provide a tighter bound, they do not determine the exact optimal constant or explore its implications for practical privacy-utility trade-offs.
- What evidence would resolve it: Numerical experiments across a wider range of (δ, q, ε) values to find the exact optimal constant, along with theoretical analysis of how this affects the privacy-utility trade-off in real-world applications.

### Open Question 2
- Question: How does the effective noise level σ_eff = σ(q)/q behave for extreme values of the subsampling rate q (very close to 0 or 1), and what are the implications for privacy guarantees?
- Basis in paper: [inferred] The paper focuses on proving the conjecture for q ≥ 4δ, but does not explore the behavior of σ_eff at the boundaries of the q ∈ (0,1] interval.
- Why unresolved: The proof technique relies on the condition q ≥ 4δ, but does not provide insights into the behavior of σ_eff as q approaches 0 or 1.
- What evidence would resolve it: Analytical derivation of σ_eff limits as q → 0 and q → 1, supported by numerical simulations to verify the theoretical predictions.

### Open Question 3
- Question: How does the Sampled Gaussian Mechanism's performance compare to other privacy mechanisms (e.g., Gaussian mechanism without subsampling, Laplace mechanism) in terms of privacy-utility trade-offs across different dataset sizes and privacy budgets?
- Basis in paper: [inferred] The paper focuses on proving a specific conjecture about the Sampled Gaussian Mechanism but does not provide a comparative analysis with other mechanisms.
- Why unresolved: The theoretical analysis is limited to the Sampled Gaussian Mechanism, and no empirical comparison with alternative methods is provided.
- What evidence would resolve it: Comprehensive experimental study comparing the Sampled Gaussian Mechanism with other privacy mechanisms across various datasets, privacy budgets (ε, δ), and utility metrics.

## Limitations
- The proof relies on numerical verification of the auxiliary lemma bound, which while mathematically rigorous, depends on the behavior of the normal CDF bound across all positive values of z.
- The proof establishes the conjecture under the condition ε, q ≥ 4δ, but uses a weaker condition (min(e^ε - 1, q) ≥ 4δ) in the proof, which requires careful tracking of the implications.
- The paper does not explore the behavior of the effective noise level σeff at the boundaries of the subsampling rate q (very close to 0 or 1).

## Confidence
- Conjecture proof validity: **High** - The mathematical steps are internally consistent and follow standard proof techniques
- Numerical bounds in Lemma 2: **Medium** - While the proof is rigorous, numerical verification across all relevant z values would strengthen confidence
- Practical applicability: **Medium** - The theoretical result holds, but real-world implications depend on parameter choices and implementation details

## Next Checks
1. **Numerical verification of Lemma 2**: Implement the difference function T(z) = Φ(-z) - e^(-z²/2)(1/2 - min(e^(z²/2) - 1, 1)/4) and verify T(z) < 0 across the full range of z values, with particular attention to the critical points around z = 4/(3√(2π)) and z = 4/√(2π).

2. **Monotonicity verification**: Numerically verify that Ψ_ε,q(σ) is strictly decreasing for various combinations of ε, q values by computing its derivative and confirming it remains negative across the relevant domain.

3. **Parameter sensitivity analysis**: Test the conjecture conditions across a range of parameter values near the boundary conditions (ε, q ≈ 4δ) to understand where the bound becomes tight and identify any potential edge cases where the proof might fail.